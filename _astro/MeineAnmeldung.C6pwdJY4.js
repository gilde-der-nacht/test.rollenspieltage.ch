import{g as o,t as c,i as l,c as t,a as g,m as ee,F as I,S as W,M as w,b as F,d as Le,o as He,e as ne,f as Ye,E as Ie}from"./web.CWkhEVI3.js";import{e as V,c as C,B as O,b as k,I as te}from"./utils.D9aPFm8o.js";import{e as me,a as U,o as _,s as a,b as T,n as x,c as he,l as q,u as z,d as B,C as Fe}from"./Checkbox.qI5vp2xV.js";import{c as K}from"./store.tvcWmGwL.js";/* empty css                                 */import{T as re}from"./Textarea.DBjiIJxG.js";const N=1,ie="SAVE",ae="PROGRAM",le={registrationId:-1,name:"Demo",email:"demo@mail.com",handynummer:"+41 12 123 12 12",wantsEmailUpdates:!0,games:[],lastSaved:"2024-08-15T07:45:21.335Z"};function Ge(){const n=localStorage.getItem(ie);let e;return n===null?e={version:N,data:le}:e=JSON.parse(n),e.version!==N&&(console.error("Your local storage data was outdated and has been replaced with new demo content."),e={version:N,data:le}),localStorage.setItem(ie,JSON.stringify(e)),e.data}const se={gameList:[],reservedList:[],openingHours:{SATURDAY:{open:{from:10,to:24},breaks:[{from:13,to:14},{from:18,to:19}]},SUNDAY:{open:{from:10,to:18},breaks:[{from:13,to:14}]}}};function Ze(){const n=localStorage.getItem(ae);let e;return n===null?e={version:N,data:se}:e=JSON.parse(n),e.version!==N&&(console.error("Your local storage data was outdated and has been replaced with new demo content."),e={version:N,data:se}),localStorage.setItem(ae,JSON.stringify(e)),e.data}const Se=me(["SATURDAY","SUNDAY"]);U(_({uuid:a(),description:T(a()),title:T(a()),system:a(),master:_({first:a(),last:T(a())}),playerCount:_({min:x(),max:x()}),slot:_({day:Se,start:x(),end:x()})}));const $e=_({game:a(),self:q(!0),spielerName:he()}),_e=_({game:a(),self:q(!1),spielerName:a()}),We=z([$e.extend({id:x()}),_e.extend({id:x()})]),Ve=z([$e,_e]),qe=_({registrationId:x(),name:a(),email:a(),handynummer:a(),wantsEmailUpdates:B(),games:U(We),lastSaved:a()});_({registrationId:x(),name:a(),email:a(),handynummer:a(),wantsEmailUpdates:B(),games:U(Ve),lastSaved:a()});async function ze(n){if(n==="demo")return{kind:"SUCCESS",save:Ge()};const e=V("/rst24/load");e.searchParams.append("secret",n);const r=await fetch(e);if(!r.ok)return{kind:"FAILED"};const i=await r.json(),s=qe.safeParse(i);return s.success?{kind:"SUCCESS",save:s.data}:{kind:"FAILED"}}const Be=_({uuid:a(),title:T(a()),system:a(),description:T(a()),playerCount:_({min:x(),max:x()}),master:_({first:a(),last:T(a())}),slot:_({day:Se,start:x(),end:x()})}),Je=_({id:x(),gameId:a()});async function je(n){if(n)return{kind:"SUCCESS",program:Ze()};const e=V("/rst24/program"),r=V("/rst24/reserved"),[i,s]=await Promise.all([fetch(e),fetch(r)]);if(!i.ok)return{kind:"FAILED"};if(!s.ok)return{kind:"FAILED"};const d=await i.json(),h=await s.json(),f=U(Be).safeParse(d);if(!f.success)return{kind:"FAILED"};const v=U(Je).safeParse(h);return v.success?{kind:"SUCCESS",program:{gameList:f.data,reservedList:v.data,openingHours:{SATURDAY:{open:{from:10,to:24},breaks:[{from:13,to:14},{from:18,to:19}]},SUNDAY:{open:{from:10,to:18},breaks:[{from:13,to:14}]}}}}:{kind:"FAILED"}}const Ke=["CHOOSE","PLAYER","GAMEMASTER","GAMEMASTER_NEW","HELPING","SUMMARY"],oe={CHOOSE:"Übersicht",PLAYER:"Spielanmeldung",GAMEMASTER:"Spielleitung",GAMEMASTER_NEW:"Neue Spielrunde",HELPING:"Helfen",SUMMARY:"Zusammenfassung"};function fe(n){const e=n.searchParams.get("page");return Ke.find(r=>e?.toUpperCase()===r.toUpperCase())??"CHOOSE"}function Qe(){const n=new URL(location.href),e=n.searchParams.get("secret"),r=fe(n),i=n.searchParams.get("showCreateMessage")==="true";return{secret:e,page:r,showCreateMessage:i}}async function pe(n){if(n.secret===null)throw Error("SECRET_ERROR");const e=await ze(n.secret);if(e.kind==="FAILED")throw Error("SECRET_ERROR");return{state:"IDLE",secret:n.secret,page:n.page,showCreateMessage:n.showCreateMessage,gameRoundEdit:{form:{titel:"",system:"",descriptionShort:"",descriptionLong:"",slots:{SATURDAY:[],SUNDAY:[]},playerCountMin:3,playerCountMax:6,tags:[]},errors:{titleMissing:!1,descriptionShortTooLong:!1,descriptionLongTooLong:!1,slotMissing:!1,playerCountInvalid:!1}},currentSave:e.save,activeTab:"Contact",lastSaved:e.save.lastSaved,hasChanged:!1,tentativeReservations:[],markedForDeletionReservations:[]}}async function Xe(n=!1){const e=await je(n);if(e.kind==="FAILED")throw Error("PROGRAM_ERROR");return e.program}function en(n){const[e,r]=K(n);function i(u){r("activeTab",u),window.scrollTo({top:0})}function s(u){const S=new URL(location.href);S.searchParams.set("page",u.toLowerCase()),S.searchParams.delete("showCreateMessage"),history.replaceState({page:u},"",S);const b=oe[u];document.title=`Meine Anmeldung: ${b} | Luzerner Rollenspieltage `}s(n.page);function d(u,S=!1){if(u===e.page)return;if(!S){const m=new URL(location.href);m.searchParams.set("page",u.toLowerCase()),history.pushState({page:u},"",m)}const b=oe[u];document.title=`Meine Anmeldung: ${b} | Luzerner Rollenspieltage `,r("page",u),window.scrollTo({top:0})}function h(u,S){r("hasChanged",!0),r("currentSave",u,S)}async function f(){if(e.state!=="IDLE")throw Error("ASSERTION_ERROR");r("state","SAVING");const u=V("/rst24/save"),S={...e.currentSave,games:[...e.currentSave.games.filter(m=>!e.markedForDeletionReservations.includes(m.id)),...e.tentativeReservations.map(m=>m.friendsName===null?{game:m.gameUuid,self:!0,spielerName:null}:{game:m.gameUuid,self:!1,spielerName:m.friendsName})]};if((await fetch(u,{method:"post",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}})).ok){const m=await pe({secret:e.secret,page:e.page,showCreateMessage:!1});r({...m,activeTab:e.activeTab})}else throw Error("SAVE_ERROR")}function v(u){r("hasChanged",!0),r("tentativeReservations",S=>[...S,u])}function E(u){if(r("hasChanged",!0),u.confirmed)r("markedForDeletionReservations",S=>[...S,u.reservationId]);else{const S=e.currentSave.name;r("tentativeReservations",b=>b.filter(m=>m.gameUuid!==u.gameUuid?!0:m.friendsName===u.name?!1:u.name!==S))}}return{state:e,actions:{changeTab:i,changePage:d,updateSave:h,saveCurrentState:f,addTentativeReservation:v,deleteReservation:E}}}var ce=c("<br>"),nn=c("<strong>Donnerstag, 21. August 2025");const tn=function(){const e="Donnerstag, 21. August 2025",r=["Deine Anmeldung wurde erfolgreich gestartet.",o(ce),o(ce),"Wir haben eine E-Mail an deine Adresse gesendet. In dieser E-Mail findest du einen persönlichen Link, um deine Anmeldung bis am"," ",o(nn)," anzupassen."];return{registrationDeadline:e,registrationStarted:r}}();var rn=c("<div class=grid><!$><!/><div>"),an=c("<div class=boxLink>");function Y(n){const e=n.type??"special";return(()=>{var r=o(an);return l(r,t(O,{type:e,get onClick(){return n.onClick},get children(){var i=o(rn),s=i.firstChild,[d,h]=g(s.nextSibling),f=d.nextSibling;return l(i,t(C,{get icon(){return n.icon}}),d,h),l(f,()=>n.children),i}})),r})()}var ln=c("<div class=tooltip-wrapper><div class=tooltip></div><!$><!/>");function H(n){return(()=>{var e=o(ln),r=e.firstChild,i=r.nextSibling,[s,d]=g(i.nextSibling);return l(r,()=>n.tooltip),l(e,()=>n.children,s,d),e})()}var sn=c("<div class=quickmenu-wrapper><div class=quickmenu><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/>"),on=c('<div class="quickmenu extended"><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/>'),cn=c("<div class=grid><!$><!/><span>Zur Übersicht"),un=c("<div class=grid><!$><!/><span>Zu den Spielrunden"),gn=c("<div class=grid><!$><!/><span>Zu deinen Spielrunden"),dn=c("<div class=grid><!$><!/><span>Zum Helferplan"),mn=c("<div class=grid><!$><!/><span>Zur Zusammenfassung");function hn(n){return(()=>{var e=o(sn),r=e.firstChild,i=r.firstChild,[s,d]=g(i.nextSibling),h=s.nextSibling,[f,v]=g(h.nextSibling),E=f.nextSibling,[u,S]=g(E.nextSibling),b=u.nextSibling,[m,y]=g(b.nextSibling),D=m.nextSibling,[M,$]=g(D.nextSibling);return l(r,t(H,{tooltip:"Zur Übersicht",get children(){return t(k,{get label(){return t(C,{icon:"backward"})},onClick:()=>n.changePage("CHOOSE")})}}),s,d),l(r,t(H,{tooltip:"Zu den Spielrunden",get children(){return t(k,{get label(){return t(C,{icon:"dice-d20"})},onClick:()=>n.changePage("PLAYER")})}}),f,v),l(r,t(H,{tooltip:"Zu deinen Spielrunden",get children(){return t(k,{get label(){return t(C,{icon:"grid-2-plus"})},onClick:()=>n.changePage("GAMEMASTER")})}}),u,S),l(r,t(H,{tooltip:"Zum Helferplan",get children(){return t(k,{get label(){return t(C,{icon:"hand-heart"})},onClick:()=>n.changePage("HELPING")})}}),m,y),l(r,t(H,{tooltip:"Zur Zusammenfassung",get children(){return t(k,{get label(){return t(C,{icon:"list"})},onClick:()=>n.changePage("SUMMARY")})}}),M,$),e})()}function Sn(n){return(()=>{var e=o(on),r=e.firstChild,[i,s]=g(r.nextSibling),d=i.nextSibling,[h,f]=g(d.nextSibling),v=h.nextSibling,[E,u]=g(v.nextSibling),S=E.nextSibling,[b,m]=g(S.nextSibling),y=b.nextSibling,[D,M]=g(y.nextSibling);return l(e,t(k,{get label(){return(()=>{var $=o(cn),P=$.firstChild,[A,R]=g(P.nextSibling);return A.nextSibling,l($,t(C,{icon:"backward"}),A,R),$})()},onClick:()=>n.changePage("CHOOSE")}),i,s),l(e,t(k,{get label(){return(()=>{var $=o(un),P=$.firstChild,[A,R]=g(P.nextSibling);return A.nextSibling,l($,t(C,{icon:"dice-d20"}),A,R),$})()},onClick:()=>n.changePage("PLAYER")}),h,f),l(e,t(k,{get label(){return(()=>{var $=o(gn),P=$.firstChild,[A,R]=g(P.nextSibling);return A.nextSibling,l($,t(C,{icon:"grid-2-plus"}),A,R),$})()},onClick:()=>n.changePage("GAMEMASTER")}),E,u),l(e,t(k,{get label(){return(()=>{var $=o(dn),P=$.firstChild,[A,R]=g(P.nextSibling);return A.nextSibling,l($,t(C,{icon:"hand-heart"}),A,R),$})()},onClick:()=>n.changePage("HELPING")}),b,m),l(e,t(k,{get label(){return(()=>{var $=o(mn),P=$.firstChild,[A,R]=g(P.nextSibling);return A.nextSibling,l($,t(C,{icon:"list"}),A,R),$})()},onClick:()=>n.changePage("SUMMARY")}),D,M),e})()}var $n=c("<div class=page><!$><!/><div><h2></h2><br><!$><!/></div><!$><!/>");function L(n){return(()=>{var e=o($n),r=e.firstChild,[i,s]=g(r.nextSibling),d=i.nextSibling,h=d.firstChild,f=h.nextSibling,v=f.nextSibling,[E,u]=g(v.nextSibling),S=d.nextSibling,[b,m]=g(S.nextSibling);return l(e,(()=>{var y=ee(()=>n.showQuickmenu!==!1);return()=>y()?t(hn,{get changePage(){return n.changePage}}):null})(),i,s),l(h,()=>n.title),l(d,()=>n.children,E,u),l(e,(()=>{var y=ee(()=>n.showQuickmenu!==!1);return()=>y()?t(Sn,{get changePage(){return n.changePage}}):null})(),b,m),e})()}var _n=c("<h3>Spielrunden ansehen"),fn=c("<p>Melde dich (und deine Freunde) für diverse Spielrunden an."),J=c("<br>"),pn=c("<h3>Spielrunden erstellen"),bn=c("<p>Falls du wenig oder gar keine Erfahrung als Spielleiter:in hast, werden wir dich vor und während dem Anlass unterstützen."),vn=c("<h3>Helfen"),En=c("<p>Beim Kiosk und der Essensausgabe können wir immer ein paar helfende Hände gebrauchen."),xn=c("<h3>Zusammenfassung"),kn=c("<p>Erhalte einen Überblick über dein gesamtes Programm.");function An(n){return t(L,{title:"Wo möchtest du starten?",showQuickmenu:!1,get changePage(){return n.changePage},get children(){return[t(Y,{icon:"dice-d20",onClick:()=>n.changePage("PLAYER"),get children(){return[o(_n),o(fn)]}}),o(J),t(Y,{icon:"grid-2-plus",onClick:()=>n.changePage("GAMEMASTER"),get children(){return[o(pn),o(bn)]}}),o(J),t(Y,{icon:"hand-heart",onClick:()=>n.changePage("HELPING"),get children(){return[o(vn),o(En)]}}),o(J),t(Y,{icon:"list",onClick:()=>n.changePage("SUMMARY"),get children(){return[o(xn),o(kn)]}})]}})}const Cn=[{name:"children",label:"Kinderfreundlich",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{name:"selfmade",label:"Mein eigenes System",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}],be=me(["SATURDAY","SUNDAY"]);U(_({uuid:a(),description:T(a()),title:T(a()),master_name:a(),playercount:_({min:x(),max:x()}),slot:_({day:be,start:x(),end:x()}),external_link:T(_({label:a(),link:a()}))}));const ve=_({game:a(),self:q(!0),player_name:he()}),Ee=_({game:a(),self:q(!1),player_name:a()}),yn=z([ve.extend({uuid:a().uuid()}),Ee.extend({uuid:a().uuid()})]),Rn=z([ve,Ee]);_({registration_uuid:a().uuid(),name:a(),email:a(),telephone:a(),wishes_updates:B(),games:U(yn),last_saved:a()});_({registration_uuid:a().uuid(),name:a(),email:a(),telephone:a(),wishes_updates:B(),games:U(Rn),last_saved:a()});_({uuid:a(),title:a(),description:T(a()),playercount:_({min:x(),max:x()}),master_name:a(),slot:_({day:be,start:x(),end:x()}),external_link:T(_({label:a(),link:a()}))});_({uuid:a().uuid(),game_uuid:a().uuid()});var wn=c("<h3>Neue Spielrunde erstellen"),Pn=c("<form novalidate><!$><!/><!$><!/><!$><!/><!$><!/><fieldset><legend>Kategorien (optional)</legend><div style=display:grid;gap:0.5rem;></div></fieldset><fieldset><legend>Zeitslots</legend><!$><!/></fieldset><div style=display:flex;flex-wrap:wrap;gap:1rem;><!$><!/><!$><!/><!$><!/>"),Tn=c("<h6>Samstag, 23. August 2025"),ue=c("<div style=display:flex;flex-wrap:wrap;gap:0.5rem;>"),Dn=c("<h6>Sonntag, 24. August 2025"),ge=c("<div style=display:flex;flex-wrap:wrap;gap:0.5rem;align-items:center;><span>von <!$><!/> bis <!$><!/> Uhr</span><!$><!/>"),Mn=c("<div style=display:grid;gap:0.5rem;><!$><!/><!$><!/>"),Un=c("<div style=display:grid;gap:0.5rem;><!$><!/><!$><!/><!$><!/>"),On=c("<div style=display:flex;flex-wrap:wrap;gap:0.5rem;align-items:center;><!$><!/> <span>Neuen Slot erfassen"),Nn=c("<em>Wähle eine Tag:"),Ln=c("<div style=display:flex;flex-wrap:warp;gap:.5rem;><!$><!/><!$><!/>"),Hn=c("<em>Wähle eine Startzeit:"),xe=c("<div style=display:flex;flex-wrap:warp;gap:.5rem;>"),Yn=c("<em>Wähle eine Endzeit:");function In(n){return t(L,{title:"Meine Spielrunden",get changePage(){return n.changePage},get children(){return t(Y,{icon:"grid-2-plus",type:"success",onClick:()=>n.changePage("GAMEMASTER_NEW"),get children(){return o(wn)}})}})}function Fn(n){const[e,r]=K(n.store);function i(s){s.preventDefault(),console.log(e)}return t(L,{title:"Neue Spielrunde erfassen",get changePage(){return n.changePage},get children(){var s=o(Pn),d=s.firstChild,[h,f]=g(d.nextSibling),v=h.nextSibling,[E,u]=g(v.nextSibling),S=E.nextSibling,[b,m]=g(S.nextSibling),y=b.nextSibling,[D,M]=g(y.nextSibling),$=D.nextSibling,P=$.firstChild,A=P.nextSibling,R=$.nextSibling,Ae=R.firstChild,Ce=Ae.nextSibling,[ye,Re]=g(Ce.nextSibling),G=R.nextSibling,we=G.firstChild,[Q,Pe]=g(we.nextSibling),Te=Q.nextSibling,[X,De]=g(Te.nextSibling),Me=X.nextSibling,[Ue,Oe]=g(Me.nextSibling);return s.addEventListener("submit",i),l(s,t(te,{label:"Titel",name:"title",get value(){return e.form.titel},onValueUpdate:p=>r("form","titel",p)}),h,f),l(s,t(te,{label:"System (optional)",name:"System",get value(){return e.form.system},onValueUpdate:p=>r("form","system",p)}),E,u),l(s,t(re,{label:"kurze Beschreibung",name:"descriptionShort",get value(){return e.form.descriptionShort},onValueUpdate:p=>r("form","descriptionShort",p),size:"sm"}),b,m),l(s,t(re,{label:"lange Beschreibung (optional)",name:"descriptionLong",get value(){return e.form.descriptionLong},onValueUpdate:p=>r("form","descriptionLong",p)}),D,M),l(A,t(I,{each:Cn,children:p=>t(Fe,{get label(){return p.label},get description(){return p.description},get checked(){return e.form.tags.includes(p.name)},get name(){return p.name},get value(){return p.name},onValueUpdate:Z=>{Z?r("form","tags",e.form.tags.concat([p.name])):r("form","tags",e.form.tags.filter(Ne=>Ne!==p.name))}})})),l(R,t(Wn,{get slots(){return n.store.form.slots},get openingHours(){return n.openingHours},addTimeSlot:p=>r("form","slots",p.day,e.form.slots[p.day].concat({from:p.from,to:p.to})),removeTimeSlot:p=>r("form","slots",p.day,e.form.slots[p.day].filter(Z=>Z.from!==p.from||Z.to!==p.to))}),ye,Re),l(G,t(k,{kind:"gray",label:"Spielrunde als Entwurf speichern"}),Q,Pe),l(G,t(k,{kind:"danger",label:"Abbrechen"}),X,De),l(G,t(k,{type:"submit",kind:"success",label:"Spielrunde erstellen"}),Ue,Oe),s}})}function Gn(n){function e(i){return[12,44]}return{SATURDAY:e(n.SATURDAY),SUNDAY:[11]}}function Zn(n){return{SATURDAY:{12:[13,14],22:[44]},SUNDAY:{11:[23]}}}function Wn(n){const e=Gn(n.openingHours),r=Zn(n.openingHours);return[t(Vn,{startTimes:e,endTimes:r,get chooseTimeSlot(){return n.addTimeSlot}}),t(W,{get when(){return n.slots.SATURDAY.length>0},get children(){return[o(Tn),(()=>{var i=o(ue);return l(i,t(I,{get each(){return n.slots.SATURDAY},children:s=>t(k,{get label(){return(()=>{var d=o(ge),h=d.firstChild,f=h.firstChild,v=f.nextSibling,[E,u]=g(v.nextSibling),S=E.nextSibling,b=S.nextSibling,[m,y]=g(b.nextSibling);m.nextSibling;var D=h.nextSibling,[M,$]=g(D.nextSibling);return l(h,()=>s.from,E,u),l(h,()=>s.to,m,y),l(d,t(C,{icon:"trash"}),M,$),d})()},kind:"danger",onClick:()=>n.removeTimeSlot({day:"SATURDAY",from:s.from,to:s.to})})})),i})()]}}),t(W,{get when(){return n.slots.SUNDAY.length>0},get children(){return[o(Dn),(()=>{var i=o(ue);return l(i,t(I,{get each(){return n.slots.SUNDAY},children:s=>t(k,{get label(){return(()=>{var d=o(ge),h=d.firstChild,f=h.firstChild,v=f.nextSibling,[E,u]=g(v.nextSibling),S=E.nextSibling,b=S.nextSibling,[m,y]=g(b.nextSibling);m.nextSibling;var D=h.nextSibling,[M,$]=g(D.nextSibling);return l(h,()=>s.from,E,u),l(h,()=>s.to,m,y),l(d,t(C,{icon:"trash"}),M,$),d})()},kind:"danger",onClick:()=>n.removeTimeSlot({day:"SUNDAY",from:s.from,to:s.to})})})),i})()]}})]}function Vn(n){const[e,r]=K({kind:"INITIAL"});return t(F,{get children(){return[t(w,{get when(){return e.kind==="INITIAL"},get children(){return t(k,{kind:"success",get label(){return(()=>{var i=o(On),s=i.firstChild,[d,h]=g(s.nextSibling);return d.nextSibling,l(i,t(C,{icon:"circle-plus"}),d,h),i})()},onClick:()=>r({kind:"CHOOSE_DAY"})})}}),t(w,{get when(){return e.kind==="CHOOSE_DAY"},get children(){return t(O,{get children(){return t(j,{changeDay:i=>r({kind:"CHOOSE_START",day:i})})}})}}),t(w,{get when(){return e.kind==="CHOOSE_START"},get children(){return t(O,{get children(){var i=o(Mn),s=i.firstChild,[d,h]=g(s.nextSibling),f=d.nextSibling,[v,E]=g(f.nextSibling);return l(i,t(j,{get chosenDay(){return e.kind==="CHOOSE_START"?e.day:void 0},changeDay:u=>r({kind:"CHOOSE_START",day:u})}),d,h),l(i,t(de,{get startTimes(){return e.kind==="CHOOSE_START"?n.startTimes[e.day]:[]},changeStart:u=>r({kind:"CHOOSE_END",start:u})}),v,E),i}})}}),t(w,{get when(){return e.kind==="CHOOSE_END"},get children(){return t(O,{get children(){var i=o(Un),s=i.firstChild,[d,h]=g(s.nextSibling),f=d.nextSibling,[v,E]=g(f.nextSibling),u=v.nextSibling,[S,b]=g(u.nextSibling);return l(i,t(j,{get chosenDay(){return e.kind==="CHOOSE_END"?e.day:void 0},changeDay:m=>r({kind:"CHOOSE_START",day:m})}),d,h),l(i,t(de,{get chosenStart(){return e.kind==="CHOOSE_END"?e.start:void 0},get startTimes(){return e.kind==="CHOOSE_END"?n.startTimes[e.day]:[]},changeStart:m=>r({kind:"CHOOSE_END",start:m})}),v,E),l(i,t(qn,{get endTimes(){return e.kind==="CHOOSE_END"?n.endTimes[e.day][e.start]??[]:[]},changeEnd:m=>{e.kind==="CHOOSE_END"&&(n.chooseTimeSlot({day:e.day,from:e.start,to:m}),r({kind:"INITIAL"}))}}),S,b),i}})}})]}})}function j(n){return[o(Nn),(()=>{var e=o(Ln),r=e.firstChild,[i,s]=g(r.nextSibling),d=i.nextSibling,[h,f]=g(d.nextSibling);return l(e,t(k,{get kind(){return n.chosenDay==="SATURDAY"?"success":"gray"},label:"Samstag",onClick:()=>n.changeDay("SATURDAY")}),i,s),l(e,t(k,{get kind(){return n.chosenDay==="SUNDAY"?"success":"gray"},label:"Sonntag",onClick:()=>n.changeDay("SUNDAY")}),h,f),e})()]}function de(n){return[o(Hn),(()=>{var e=o(xe);return l(e,t(I,{get each(){return n.startTimes},children:r=>t(k,{get kind(){return n.chosenStart===r?"success":"gray"},label:`${r} Uhr`,onClick:()=>n.changeStart(r)})})),e})()]}function qn(n){return[o(Yn),(()=>{var e=o(xe);return l(e,t(I,{get each(){return n.endTimes},children:r=>t(k,{kind:"gray",label:`${r} Uhr`,onClick:()=>n.changeEnd(r)})})),e})()]}var zn=c("<pre><code>Noch nicht implementiert");function Bn(n){return t(L,{title:"Helfen",get changePage(){return n.changePage},get children(){return o(zn)}})}var Jn=c("<pre><code>Noch nicht implementiert");function jn(n){return t(L,{title:"Spielrundenübersicht",get changePage(){return n.changePage},get children(){return o(Jn)}})}var Kn=c("<pre><code>Noch nicht implementiert");function Qn(n){return t(L,{title:"Zusammenfassung",get changePage(){return n.changePage},get children(){return o(Kn)}})}var Xn=c("<p>Deine Anmeldung wird geladen..."),et=c("<p>Wir konnten leider keine Anmeldung finden. Wenn du bereits eine Anmeldung begonnen hast, solltest du den korrekten Link per E-Mail erhalten haben.<br><br> Falls du noch keine Anmeldung begonnen hast, kannst du <a href=/anmeldung>hier</a> deine persönliche Anmeldung beginnen. <br><br>Für generelle Fragen oder Probleme, schreibe uns doch bitte über unser <a href=/kontatk>Kontaktformular</a>."),nt=c("<p>Leider ist ein unerwarteter Fehler passiert. Versuche deine Anmeldung erneut zu laden. Wiederholt sich dieser Fehler, bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>, da dies nicht passieren sollte."),tt=c("<br>"),rt=c("<pre>");function ke(){return t(O,{get children(){return o(Xn)}})}function dt(){const[n,e]=Le(null);return He(()=>{e(Qe())}),t(F,{get fallback(){return t(ke,{})},get children(){return t(w,{get when(){return n()},children:r=>t(it,{get params(){return r()}})})}})}function it(n){const[e]=ne(()=>pe(n.params)),[r]=ne(()=>Xe(n.params.secret==="demo"));return t(Ie,{fallback:i=>t(O,{type:"danger",get children(){return t(F,{get fallback(){return o(nt)},get children(){return t(w,{get when(){return i.message==="SECRET_ERROR"},get children(){return o(et)}})}})}}),get children(){return t(Ye,{get fallback(){return t(ke,{})},get children(){return t(F,{get children(){return t(w,{get when(){return e()},children:i=>t(W,{get when(){return r()},children:s=>t(at,{get state(){return i()},get programResource(){return s()}})})})}})}})}})}function at(n){const{state:e,actions:r}=en(n.state);return window.addEventListener("popstate",i=>{if(typeof i=="object"&&i!==null&&"state"in i){const s=new URL(location.href),d=fe(s);r.changePage(d,!0)}}),[t(W,{get when(){return e.showCreateMessage},get children(){return[t(O,{type:"success",get children(){return tn.registrationStarted}}),o(tt)]}}),t(F,{get fallback(){return t(An,{get changePage(){return r.changePage}})},get children(){return[t(w,{get when(){return e.page==="PLAYER"},get children(){return t(jn,{get changePage(){return r.changePage}})}}),t(w,{get when(){return e.page==="GAMEMASTER"},get children(){return t(In,{get changePage(){return r.changePage}})}}),t(w,{get when(){return e.page==="GAMEMASTER_NEW"},get children(){return t(Fn,{get store(){return e.gameRoundEdit},get changePage(){return r.changePage},get openingHours(){return n.programResource.openingHours}})}}),t(w,{get when(){return e.page==="HELPING"},get children(){return t(Bn,{get changePage(){return r.changePage}})}}),t(w,{get when(){return e.page==="SUMMARY"},get children(){return t(Qn,{get changePage(){return r.changePage}})}})]}}),(()=>{var i=o(rt);return l(i,()=>JSON.stringify(e,null,2)),i})()]}export{dt as MeineAnmeldungWrapper};
