import{c as ft,I as jt,B as A,d as qt,f as Be,g as I,b as N,h as H,s as vt,i as Kt,j as ze,k as Jt,e as pt,l as Vt,m as kt,n as Qt,u as Xt}from"./utils.Db75vx7X.js";import{b as en,g as u,t as c,a as d,u as tn,i as s,c as r,S as E,d as X,e as xe,F as G,M as D,f as se,s as Ye,h as De,j as Me,k as yt,m as O,r as xt,l as Ue,n as nn,o as Re,p as Et,q as rn,E as ln}from"./web.CMj7TsBi.js";/* empty css                                 */import{c as C,u as an}from"./store.Bb38aZVx.js";import{T as sn}from"./Textarea.wLKD5yOm.js";import{s as y,n as ee,e as Pe,T as v,o as x,a as q,C as on,d as un,l as Q,b as me,c as dn}from"./texts.ohT9XzC4.js";var cn=c("<dialog><!$><!/><!$><!/><!$><!/>"),gn=c("<h4>");function ge(){return{open:!1}}function he(e){let t;const[n,i]=C(e.store);en(()=>{n.open?t.showModal():t.close()});function a(){i({open:!1}),e.onClose?.()}const l=()=>{const o=[];return e.type!==void 0&&o.push(e.type),e.size!==void 0&&o.push(e.size),e.onClose!==void 0&&o.push("dialog-with-close"),o};return(()=>{var o=u(cn),m=o.firstChild,[g,h]=d(m.nextSibling),$=g.nextSibling,[b,S]=d($.nextSibling),_=b.nextSibling,[f,p]=d(_.nextSibling);o.addEventListener("close",a);var k=t;return typeof k=="function"?tn(k,o):t=o,s(o,r(E,{get when(){return e.onClose},get children(){return r(ft,{onClick:a,icon:"circle-xmark",kind:"gray"})}}),g,h),s(o,r(E,{get when(){return e.title},children:w=>(()=>{var R=u(gn);return s(R,w),R})()}),b,S),s(o,()=>e.children,f,p),X(()=>xe(o,l().join(" "))),o})()}var et=c("<p>");function pe(e){const[t,n]=C(e.store),i=e.showErrors==="ALWAYS",a=()=>i||t.isDirty?e.errors??[]:[];return[r(jt,{get label(){return e.label},get name(){return e.name},get value(){return t.value},onValueUpdate:l=>n("value",l),onBlur:()=>n("isDirty",!0),get type(){return e.type},get required(){return e.required},get isHoneypot(){return e.isHoneypot}}),r(E,{get when(){return a().length>0},get children(){return r(A,{type:"danger",get children(){return r(G,{get each(){return a()},children:l=>(()=>{var o=u(et);return s(o,l),o})()})}})}})]}function at(e){const[t,n]=C(e.store),i=e.showErrors==="ALWAYS",a=()=>i||t.isDirty?e.errors??[]:[];return[r(qt,{get label(){return e.label},get name(){return e.name},get value(){return t.value},onValueUpdate:l=>n("value",l),onBlur:()=>n("isDirty",!0),get required(){return e.required},get isHoneypot(){return e.isHoneypot},get min(){return e.min},get max(){return e.max}}),r(E,{get when(){return a().length>0},get children(){return r(A,{type:"danger",get children(){return r(G,{get each(){return a()},children:l=>(()=>{var o=u(et);return s(o,l),o})()})}})}})]}function Ve(e){const[t,n]=C(e.store),i=e.showErrors==="ALWAYS",a=()=>i||t.isDirty?e.errors??[]:[];return[r(sn,{get label(){return e.label},get name(){return e.name},get value(){return t.value},onValueUpdate:l=>n("value",l),onBlur:()=>n("isDirty",!0),get required(){return e.required},get size(){return e.size}}),r(E,{get when(){return a().length>0},get children(){return r(A,{type:"danger",get children(){return r(G,{get each(){return a()},children:l=>(()=>{var o=u(et);return s(o,l),o})()})}})}})]}const we=y().transform(e=>({value:e,isDirty:!1}));function We(e){return{value:e,isDirty:!1}}const st=ee().transform(e=>({value:e,isDirty:!1})),Oe={SATURDAY:{open:{from:10,to:24},breaks:[{from:13,to:14},{from:18,to:19}]},SUNDAY:{open:{from:10,to:18},breaks:[{from:13,to:14}]}};Pe(["SATURDAY","SUNDAY"]);function Te(e,t){const{from:n,to:i}=t;return n<e&&e<i}function mn(e,t){const{from:n,to:i}=e,{from:a,to:l}=t;return Te(n,t)||Te(i,t)||Te(a,e)||Te(l,e)||n===a&&i===l}function Qe(e,t=!1){const{from:n,to:i}=e;if(n>i)return[];const a=i-n;return[...Array(t?a+1:a)].map((l,o)=>o+n)}var hn=c("<div class=dynamic-columns style=gap:1rem;--min-width:30rem;><!$><!/><!$><!/>"),$n=c("<div><h4 style=margin-block-end:1.5rem;></h4><!$><!/>"),Sn=c("<p>Konflikte gefunden! Bitte stelle sicher, dass du nicht zeitlich Ã¼berlappende Spielrunden eingetragen hast."),_n=c("<div class=timetable><!$><!/><div class=entries></div><div class=after-hour><div class=annotation>"),bn=c("<div><div class=annotation></div><div class=background>"),fn=c("<div class=entry>");function vn(e){return(()=>{var t=u(hn),n=t.firstChild,[i,a]=d(n.nextSibling),l=i.nextSibling,[o,m]=d(l.nextSibling);return s(t,r(ot,{get programEntries(){return e.programEntries.SATURDAY},get openingHours(){return Oe.SATURDAY},day:"SATURDAY"}),i,a),s(t,r(ot,{get programEntries(){return e.programEntries.SUNDAY},get openingHours(){return Oe.SUNDAY},day:"SUNDAY"}),o,m),t})()}function ot(e){const t=kn(e.programEntries);return(()=>{var n=u($n),i=n.firstChild,a=i.nextSibling,[l,o]=d(a.nextSibling);return s(i,()=>v.days[e.day]),s(n,r(se,{get fallback(){return r(A,{type:"danger",get children(){return u(Sn)}})},get children(){return r(D,{get when(){return t.length===0},get children(){return r(pn,{get programEntries(){return e.programEntries},get openingHours(){return e.openingHours},get day(){return e.day}})}})}}),l,o),n})()}function pn(e){const t=Qe(e.openingHours.open),n=e.openingHours.breaks.map(({from:l})=>l),i=(t[0]??0)-1,a=t.at(-1)??0;return(()=>{var l=u(_n),o=l.firstChild,[m,g]=d(o.nextSibling),h=m.nextSibling,$=h.nextSibling,b=$.firstChild;return s(l,r(G,{each:t,children:S=>{const _=n.includes(S);return(()=>{var f=u(bn),p=f.firstChild;return xe(f,`hour ${_?"break":""}`),s(p,S),X(k=>Ye(f,ut({from:S,to:S},i,e.day),k)),f})()}}),m,g),s(h,r(G,{get each(){return e.programEntries},children:S=>(()=>{var _=u(fn);return s(_,()=>S.component),X(f=>Ye(_,ut(S.range,i,e.day),f)),_})()})),s(b,a+1),X(S=>Ye(h,`grid-row: 1 / ${a-i+1};`,S)),l})()}function ut(e,t,n){const{from:i,to:a}=e,l=i-t,o=a-t,m=Oe[n].open.to;return Be(l>0,`Entry can't start at ${i}.`),Be(o>0,`Entry can't end at ${a}.`),Be(a<=m,`Entry can't end at ${a}.`),`grid-row: ${l} / ${o};`}function kn(e){const t=[];return e.forEach((n,i)=>{e.slice(i+1).forEach(a=>{mn(n.range,a.range)&&t.push([n,a])})}),t}var yn=c("<span>");function Ct(e){const t=()=>{const n=["chip"];return n.push(e.kind??"gray"),e.inverted&&n.push("inverted"),e.size==="small"&&n.push("small"),n.join(" ")};return(()=>{var n=u(yn);return s(n,()=>e.children),X(i=>{var a=t(),l=e.title;return a!==i.e&&xe(n,i.e=a),l!==i.t&&De(n,"title",i.t=l),i},{e:void 0,t:void 0}),n})()}var wt=c("<br>"),xn=c("<div style=display:grid;gap:1rem;><h3>Meine Kontaktdaten</h3><p><strong>Name:</strong> <!$><!/></p><p><strong>E-Mail:</strong> <!$><!/></p><p><strong>Handynummer:</strong> <!$><!/></p><div>"),En=c("<form novalidate><!$><!/><!$><!/><!$><!/><!$><!/>"),Cn=c("<h3>Mein Programm"),wn=c('<div class="timeview-entry box-simple special"><!$><!/><!$><!/><h5></h5><p class=duration>von <!$><!/> bis <!$><!/> Uhr <em><small>(<!$><!/> <!$><!/>)');function Tn(e){const t=e.store.master.games.flatMap(n=>n.slots.map(i=>({dateTime:i,title:n.title.value,uuid:n.uuid})));return[r(An,{get store(){return e.store.init}}),u(wt),r(Dn,{entries:{play:[],master:t,help:[]},get changePage(){return e.changePage}})]}function An(e){const[t,n]=C(e.store),[i,a]=C(ge());return r(A,{get children(){return[r(E,{get when(){return i.open},get children(){return r(Rn,{dialogStore:i,get currentState(){return e.store},updateCurrentState:n})}}),(()=>{var l=u(xn),o=l.firstChild,m=o.nextSibling,g=m.firstChild,h=g.nextSibling,$=h.nextSibling,[b,S]=d($.nextSibling),_=m.nextSibling,f=_.firstChild,p=f.nextSibling,k=p.nextSibling,[w,R]=d(k.nextSibling),M=_.nextSibling,P=M.firstChild,L=P.nextSibling,B=L.nextSibling,[F,z]=d(B.nextSibling),Y=M.nextSibling;return s(m,()=>e.store.name,b,S),s(_,()=>e.store.email,w,R),s(M,()=>e.store.mobile,F,z),s(Y,r(I,{icon:"pencil",label:"Kontakdaten editieren",onClick:()=>a("open",!0)})),l})()]}})}function Rn(e){const[t]=C({name:We(e.currentState.name),email:We(e.currentState.email),mobile:We(e.currentState.mobile)}),n=Me(()=>{const l={name:[],email:[]};return t.name.value.trim().length===0&&l.name.push(v.mandatoryField),t.email.value.trim().length===0?l.email.push(v.mandatoryField):t.email.value.includes("@")||l.email.push(v.invalidEmail),{...l,hasErrors:l.name.length+l.email.length>0}}),[i,a]=C(e.dialogStore);return r(he,{get store(){return e.dialogStore},title:"Kontaktdaten editieren",onClose:()=>{},size:"medium",get children(){var l=u(En),o=l.firstChild,[m,g]=d(o.nextSibling),h=m.nextSibling,[$,b]=d(h.nextSibling),S=$.nextSibling,[_,f]=d(S.nextSibling),p=_.nextSibling,[k,w]=d(p.nextSibling);return s(l,r(pe,{get store(){return t.name},label:"Name",name:"name",showErrors:"ON_BLUR",get errors(){return n().name}}),m,g),s(l,r(pe,{get store(){return t.email},label:"E-Mail",name:"email",showErrors:"ON_BLUR",get errors(){return n().email}}),$,b),s(l,r(pe,{get store(){return t.mobile},label:"Handynummer",name:"mobile"}),_,f),s(l,r(N,{label:"Speichern",get disabled(){return n().hasErrors},onClick:()=>{n().hasErrors||(e.updateCurrentState({name:t.name.value,email:t.email.value,mobile:t.mobile.value}),a("open",!1))}}),k,w),l}})}function Dn(e){const t=Un(e.entries,e.changePage);return[u(Cn),u(wt),r(vn,{programEntries:t})]}function Ze(e){const t=e.range.to-e.range.from,n={master:{label:"SL",help:"Spielleitung"},play:{label:"TN",help:"Teilnehmer:in"},help:{label:"HL",help:"Helfen"}}[e.kind];return(()=>{var i=u(wn),a=i.firstChild,[l,o]=d(a.nextSibling),m=l.nextSibling,[g,h]=d(m.nextSibling),$=g.nextSibling,b=$.nextSibling,S=b.firstChild,_=S.nextSibling,[f,p]=d(_.nextSibling),k=f.nextSibling,w=k.nextSibling,[R,M]=d(w.nextSibling),P=R.nextSibling,L=P.nextSibling,B=L.firstChild,F=B.firstChild,z=F.nextSibling,[Y,J]=d(z.nextSibling),K=Y.nextSibling,ne=K.nextSibling,[W,re]=d(ne.nextSibling);return W.nextSibling,s(i,r(Ct,{get title(){return n.help},inverted:!0,size:"small",get children(){return n.label}}),l,o),s(i,r(E,{get when(){return e.onClick},children:ie=>r(ft,{get icon(){return e.kind==="master"?"pencil":"link"},kind:"ghost",get onClick(){return ie()},get title(){return e.kind==="master"?"Spielrunde bearbeiten":"Zur Spielrunde"}})}),g,h),s($,()=>e.title),s(b,()=>e.range.from,f,p),s(b,()=>e.range.to,R,M),s(B,t,Y,J),s(B,t===1?"Stunde":"Stunden",W,re),X(()=>De($,"title",e.title)),i})()}function Un(e,t){const n={SATURDAY:[],SUNDAY:[]};return e.play.forEach(i=>{n[i.dateTime.day].push({range:i.dateTime,component:r(Ze,{get title(){return i.title},get range(){return i.dateTime},kind:"play"})})}),e.master.forEach(i=>{n[i.dateTime.day].push({range:i.dateTime,component:r(Ze,{get title(){return i.title},get range(){return i.dateTime},kind:"master",onClick:()=>t({kind:"EDIT_GAMEROUND",uuid:i.uuid})})})}),e.help.forEach(i=>{n[i.dateTime.day].push({range:i.dateTime,component:r(Ze,{get title(){return i.title},get range(){return i.dateTime},kind:"help"})})}),n}var On=c("<p>Diese Seite ist leider noch nicht bereit. Komm bitte spÃ¤ter nochmal zurÃ¼ck.");function In(){return r(A,{type:"danger",get children(){return u(On)}})}var Mn=c("<div class=grid><!$><!/><div>"),Pn=c("<div class=boxLink>");function ve(e){const t=e.type??"special";return(()=>{var n=u(Pn);return s(n,r(A,{type:t,get onClick(){return e.onClick},get children(){var i=u(Mn),a=i.firstChild,[l,o]=d(a.nextSibling),m=l.nextSibling;return s(i,r(H,{get icon(){return e.icon}}),l,o),s(m,()=>e.children),i}})),n})()}const Nn=Pe(["SATURDAY","SUNDAY"]),tt=x({uuid:y().uuid(),day:Nn,from:ee(),to:ee()}).refine(e=>e.from<e.to,{message:"A TimeSlot can't end before it starts."});x({name:y(),label:y(),description:y()});const Tt=Pe(["DRAFT","PUBLISHED","DELETED"]),Ln=x({uuid:y().uuid(),kind:Tt,title:y(),system:y(),description:x({short:y(),long:y()}),slots:q(tt),playerCount:x({min:ee().min(1),max:ee()}).transform(e=>{const[t,n]=vt([e.min,e.max]);return{min:t,max:n}}),tagNames:q(y())}),At=x({uuid:y().uuid(),kind:Tt,title:we,system:we,description:x({short:we,long:we}),slots:q(tt),playerCount:x({min:st,max:st}),tagNames:q(y())});function Fn(){const e={uuid:crypto.randomUUID(),kind:"DRAFT",title:"",system:"",description:{short:"",long:""},slots:[],playerCount:{min:2,max:4},tagNames:["deutsch"]},t=Hn(e);if(t.success)return t.data;throw console.error(t),Error("should not happen")}function Hn(e){return At.safeParse(e)}function Gn(e){return{...e,title:e.title.value,system:e.system.value,description:{short:e.description.short.value,long:e.description.long.value},playerCount:{min:e.playerCount.min.value,max:e.playerCount.max.value}}}const Rt=[{name:"ab6jahren",label:"Ab 6 Jahren",description:"Spannungs- und Bedrohungsmomente werden kurz gehalten. In Begleitung oder nach Absprache mit einem Elternteil. Beispiele: My Little Pony, ..."},{name:"ab12jahren",label:"Ab 12 Jahren",description:"Antisoziales und destruktives wird auf ein Minimum begrenzt. Keine Diskriminierung, keine Radikalisierung, SexualitÃ¤t wird nicht explizit dargestellt."},{name:"ab18jahren",label:"Ab 18 Jahren",description:"Keinerlei Richtlinien bezÃ¼glich Inhalt, in der Gruppe sollte aber diskutiert werden, was akzeptabel ist und was nicht. Beispiele: Vampire the Masquerade, ..."},{name:"fantasy",label:"Fantasy",description:"Spielt in einer alternativen Vergangenheit, in welcher Elemente wie: Ritterinnen, Hexenmeister, RÃ¼stungen, Magie, Goblins, Turniere usw. vorkommen kÃ¶nnen. Beispiele: Das Schwarze Auge, Dungeons & Dragons, ..."},{name:"sciencefiction",label:"Science Fiction",description:"Spielt in einer alternativen Zukunft, in welcher Elemente wie: Raumschiffe, Sternenportale, KÃ¼nstliche Intelligenzen, Laserkanonen usw. vorkommen kÃ¶nnen. Beispiele: Shadowrun, Alien, ..."},{name:"postapokalyptisch",label:"Postapokalyptisch",description:"Spielt in einer Welt mitten oder nach einem Kollaps, wo nur ein grosser Teil der Gesellschaft ums Ãberleben kÃ¤mpft. Beispiele: Mutant Year Zero, Apocalypse World"},{name:"horror",label:"Horror",description:"Eine gruselige AtmosphÃ¤re, psychologischen Druck oder unvorhersehbare Schreckensmomente. Beispiele: Cthulhu, ..."},{name:"offenewelt",label:"Offene Welt",description:"Es gibt nur einen losen Handlungsfaden, die Rollenspiel-Gruppe muss sich ihre Ziele selber festlegen. Beispiele: Ironsworn, Blades in the Dark, ..."},{name:"gemeinsamespielleitung",label:"Gemeinsame Spielleitung",description:"Die Regeln und die Umwelt werden gemeinsam von allen Spielenden umgesetzt. Beispiele: Microscope, The Quiet Year, ..."},{name:"regelleicht",label:"Regelleicht",description:"Die kompletten Regeln haben alle auf einer Seite Platz. Beispiele: Fiasco, Everyone is John, ..."},{name:"deutsch",label:"Deutsch",description:"Bei der Spielrunde reden die Spielenden miteinander Deutsch."},{name:"englisch",label:"Englisch",description:"Bei der Spielrunde reden die Spielenden miteinander Englisch."},{name:"workshop",label:"Workshop",description:"Unter Anleitung, gemeinsam ein Rollenspiel-Thema vertiefen. Kreative Techniken stehen im Vordergrund. Beispiele: Gemeinsam ein Dungeon erschaffen, Gemeinsam ein Hintergrundgeschichte schreiben, ..."}],nt=200,Dt=500,Ut=200;function Bn(e){const t=e.title.value.trim().length===0,n=e.description.short.value.trim().length===0,i=e.description.short.value.length>nt,a=e.description.long.value.length>Dt,l=e.slots.length===0;return{titleMissing:t,descriptionShortMissing:n,descriptionShortTooLong:i,descriptionLongTooLong:a,slotMissing:l,hasErrors:t||n||i||a||l}}function zn(e){const t=e.updateText.value.trim().length===0,n=e.updateText.value.length>Ut;return{missing:t,tooLong:n,hasErrors:t||n}}var Yn=c("<h3>"),Wn=c("<div style=margin-top:2rem;><h3 style=margin-bottom:1rem;></h3><ul class=event-list role=list>"),Zn=c('<li><h3 class=event-title></h3><div class=event-details><div class=event-tags><strong>Status:</strong><!$><!/></div><div class=event-tags><strong>System:</strong><!$><!/></div><div class=event-tags><strong>Tag, Zeit:</strong><!$><!/></div><div class=event-tags><strong>Spielende:</strong> <!$><!/> - <!$><!/></div> <div class=event-tags><strong>Kategorien:</strong> <!$><!/></div></div><div class="event-description content"><p><strong>Kurzbeschreibung:</strong><br><!$><!/></p></div><ul role=list class=event-links><li><button class=event-link><span>Bearbeiten'),be=c("<em>"),jn=c("<span><!$><!/>, <!$><!/> - <!$><!/> Uhr");function qn(e){const[t,n]=C(e.store);function i(){const a=Fn();n("games",t.games.length,a),e.changePage({kind:"EDIT_GAMEROUND",uuid:a.uuid})}return[r(ve,{icon:"grid-2-plus",type:"success",onClick:i,get children(){var a=u(Yn);return s(a,()=>v.createNewGameRound),a}}),r(E,{get when(){return e.store.games},children:a=>(()=>{var l=u(Wn),o=l.firstChild,m=o.nextSibling;return s(o,()=>v.myGameRounds),s(m,r(G,{get each(){return a().filter(g=>g.kind!=="DELETED")},children:g=>{const h=g.tagNames.map($=>Rt.find(({name:b})=>b===$)).filter($=>$!==void 0).map(({label:$})=>$);return r(G,{get each(){return g.slots},get fallback(){return r(dt,{game:g,slot:null,tags:h,get changePage(){return e.changePage}})},children:$=>r(dt,{game:g,slot:$,tags:h,get changePage(){return e.changePage}})})}})),l})()})]}function dt(e){const{game:t,slot:n,tags:i,changePage:a}=e;return(()=>{var l=u(Zn),o=l.firstChild,m=o.nextSibling,g=m.firstChild,h=g.firstChild,$=h.nextSibling,[b,S]=d($.nextSibling),_=g.nextSibling,f=_.firstChild,p=f.nextSibling,[k,w]=d(p.nextSibling),R=_.nextSibling,M=R.firstChild,P=M.nextSibling,[L,B]=d(P.nextSibling),F=R.nextSibling,z=F.firstChild,Y=z.nextSibling,J=Y.nextSibling,[K,ne]=d(J.nextSibling),W=K.nextSibling,re=W.nextSibling,[ie,$e]=d(re.nextSibling),Se=F.nextSibling,V=Se.nextSibling,Z=V.firstChild,oe=Z.nextSibling,U=oe.nextSibling,[ue,le]=d(U.nextSibling),de=m.nextSibling,j=de.firstChild,_e=j.firstChild,Ee=_e.nextSibling,Ne=Ee.nextSibling,[Le,Ce]=d(Ne.nextSibling),Fe=de.nextSibling,He=Fe.firstChild,Ge=He.firstChild;return s(o,(()=>{var T=O(()=>t.title.value.length>0);return()=>T()?t.title.value:(()=>{var ae=u(be);return s(ae,()=>v.missingTitle),ae})()})()),s(g,()=>v.publishingSteps[t.kind],b,S),s(_,()=>t.system.value||(()=>{var T=u(be);return s(T,()=>v.missingSystem),T})(),k,w),s(R,n!==null?(()=>{var T=u(jn),ae=T.firstChild,[rt,Ht]=d(ae.nextSibling),Gt=rt.nextSibling,Bt=Gt.nextSibling,[it,zt]=d(Bt.nextSibling),Yt=it.nextSibling,Wt=Yt.nextSibling,[lt,Zt]=d(Wt.nextSibling);return lt.nextSibling,s(T,()=>v.days[n.day],rt,Ht),s(T,()=>n.from,it,zt),s(T,()=>n.to,lt,Zt),T})():(()=>{var T=u(be);return s(T,()=>v.missingSlot),T})(),L,B),s(F,()=>t.playerCount.min.value,K,ne),s(F,()=>t.playerCount.max.value,ie,$e),s(V,()=>i.join(", ")||(()=>{var T=u(be);return s(T,()=>v.missingTags),T})(),ue,le),s(j,(()=>{var T=O(()=>t.description.short.value.length===0);return()=>T()?(()=>{var ae=u(be);return s(ae,()=>v.missingShortDescription),ae})():Kt(t.description.short.value,nt)})(),Le,Ce),Ge.$$click=()=>a({kind:"EDIT_GAMEROUND",uuid:t.uuid}),X(()=>xe(l,["event-entry",t.kind==="DRAFT"?"gray":""].join(" "))),xt(),l})()}yt(["click"]);var Kn=c("<p>Diese Seite ist leider noch nicht bereit. Komm bitte spÃ¤ter nochmal zurÃ¼ck.");function Jn(){return r(A,{type:"danger",get children(){return u(Kn)}})}var Vn=c("<h3>Spielrunden ansehen"),Qn=c("<p>Melde dich (und deine Freunde) fÃ¼r diverse Spielrunden an."),ct=c("<p><strong>Noch nicht verfÃ¼gbar."),je=c("<br>"),Xn=c("<h3>Spielrunden erstellen"),er=c("<p>Falls du wenig oder gar keine Erfahrung als Spielleiter:in hast, werden wir dich vor und wÃ¤hrend dem Anlass unterstÃ¼tzen."),tr=c("<h3>Helfen"),nr=c("<p>Beim Kiosk und der Essensausgabe kÃ¶nnen wir immer ein paar helfende HÃ¤nde gebrauchen."),rr=c("<h3>Zusammenfassung"),ir=c("<p>Erhalte einen Ãberblick Ã¼ber dein gesamtes Programm.");function lr(e){return[r(ve,{type:"gray",icon:"dice-d20",onClick:()=>e.changePage({kind:"PLAYER"}),get children(){return[u(Vn),u(Qn),u(ct)]}}),u(je),r(ve,{icon:"grid-2-plus",onClick:()=>e.changePage({kind:"GAMEMASTER"}),get children(){return[u(Xn),u(er)]}}),u(je),r(ve,{type:"gray",icon:"hand-heart",onClick:()=>e.changePage({kind:"HELPING"}),get children(){return[u(tr),u(nr),u(ct)]}}),u(je),r(ve,{icon:"list",onClick:()=>e.changePage({kind:"SUMMARY"}),get children(){return[u(rr),u(ir)]}})]}var ar=c("<fieldset><legend>Zeitslots</legend><!$><!/><!$><!/>"),gt=c("<br>"),sr=c("<div style=margin-block-end:0.5rem;>Zeitslot: <!$><!/>, <!$><!/> -<!$><!/> Uhr"),or=c("<ul class=event-list role=list>"),ur=c("<em>werden geladen..."),dr=c("<li class=event-entry><h3 class=event-title><!$><!/>, <!$><!/> - <!$><!/> Uhr</h3><div class=event-details><div class=event-tags><strong>Dauer:</strong><!$><!/> <!$><!/></div><div class=event-tags><strong>Spielende:</strong> <!$><!/></div></div><div></div><ul role=list class=event-links>"),cr=c("<em>Fehler beim Laden."),gr=c("<em>noch keine Anmeldungen"),mr=c("<li><em style=font-size:smaller;>Aktionen werden geladen..."),mt=c("<li><em style=font-size:smaller;>kann nicht gelÃ¶scht werden"),hr=c("<li><button type=button class=event-link><div style=display:flex;gap:0.25rem;align-items:center;><!$><!/><span>LÃ¶schen"),$r=c("<div style=display:grid;gap:0.5rem;>"),Sr=c("<div style=display:grid;gap:0.5rem;><!$><!/><!$><!/>"),_r=c("<div style=display:grid;gap:0.5rem;><!$><!/><!$><!/><!$><!/>"),br=c("<div style=display:grid;gap:0.5rem;><!$><!/><!$><!/><!$><!/><div style=margin-block-start:1rem;>"),fr=c("<div style=display:flex;flex-wrap:wrap;gap:0.5rem;align-items:center;><!$><!/> <span>Neuen Slot erfassen"),vr=c("<em>WÃ¤hle eine Tag:"),pr=c("<div style=display:flex;flex-wrap:wrap;gap:.5rem;><!$><!/><!$><!/>"),kr=c("<em>WÃ¤hle eine Startzeit:"),Ot=c("<div style=display:flex;flex-wrap:wrap;gap:.5rem;>"),It=c("<span style=white-space:nowrap;><!$><!/> Uhr"),yr=c("<em>WÃ¤hle eine Endzeit:");function xr(e){return(()=>{var t=u(ar),n=t.firstChild,i=n.nextSibling,[a,l]=d(i.nextSibling),o=a.nextSibling,[m,g]=d(o.nextSibling);return s(t,r(Cr,{get store(){return e.store},get registrations(){return e.registrations}}),a,l),s(t,r(E,{get when(){return e.slotMissing},get children(){return r(A,{type:"danger",children:"WÃ¤hle mindestens einen Zeitslot aus."})}}),m,g),t})()}const ht=1;function Er(e){function t(n){const i=Qe(n.open,!0);return n.breaks.map(l=>Qe(l,!0)).reduce((l,o)=>{const m=o.at(0),g=o.at(-1);if(m===void 0||g===void 0)return l;const h=[];return l.forEach($=>{const b=[],S=[];$.forEach(_=>{_<=m&&b.push(_),g<=_&&S.push(_)}),b.length>0&&h.push(b),S.length>0&&h.push(S)}),h},[i]).map(l=>{const o=l.slice(0,ht*-1);return Jt(o.map(m=>{const g=l.filter(h=>h>=m+ht);return[m,g]}))}).reduce((l,o)=>({...l,...o}),{})}return{SATURDAY:t(e.SATURDAY),SUNDAY:t(e.SUNDAY)}}function Cr(e){const[t,n]=C(e.store),[i,a]=C({dialog:ge()}),l=Me(()=>Er(Oe));function o(h){n(t.concat(h))}function m(h){a("dialog","open",!1),a("slot",void 0),n(t.filter($=>$.uuid!==h))}function g(h){a("dialog","open",!0),a("slot",t.find($=>$.uuid===h))}return[r(Tr,{get daySections(){return l()},chooseTimeSlot:o}),u(gt),u(gt),r(he,{get store(){return i.dialog},title:"Zeitslot lÃ¶schen",onClose:()=>a("slot",void 0),get children(){return[(()=>{var h=u(sr),$=h.firstChild,b=$.nextSibling,[S,_]=d(b.nextSibling),f=S.nextSibling,p=f.nextSibling,[k,w]=d(p.nextSibling),R=k.nextSibling,M=R.nextSibling,[P,L]=d(M.nextSibling);return P.nextSibling,s(h,()=>v.days[i.slot?.day],S,_),s(h,()=>i.slot?.from,k,w),s(h,()=>i.slot?.to,P,L),h})(),r(I,{kind:"danger",icon:"trash",label:"LÃ¶schen",onClick:()=>m(i.slot?.uuid)})]}}),r(wr,{slots:t,get registrations(){return e.registrations},confirmRemoval:g})]}function wr(e){return(()=>{var t=u(or);return s(t,r(G,{get each(){return Ar(e.slots)},children:n=>(()=>{var i=u(dr),a=i.firstChild,l=a.firstChild,[o,m]=d(l.nextSibling),g=o.nextSibling,h=g.nextSibling,[$,b]=d(h.nextSibling),S=$.nextSibling,_=S.nextSibling,[f,p]=d(_.nextSibling);f.nextSibling;var k=a.nextSibling,w=k.firstChild,R=w.firstChild,M=R.nextSibling,[P,L]=d(M.nextSibling),B=P.nextSibling,F=B.nextSibling,[z,Y]=d(F.nextSibling),J=w.nextSibling,K=J.firstChild,ne=K.nextSibling,W=ne.nextSibling,[re,ie]=d(W.nextSibling),$e=k.nextSibling,Se=$e.nextSibling;return s(a,()=>v.days[n.day],o,m),s(a,()=>n.from,$,b),s(a,()=>n.to,f,p),s(w,()=>n.to-n.from,P,L),s(w,()=>n.to-n.from>1?"Stunden":"Stunde",z,Y),s(J,r(se,{get children(){return[r(D,{get when(){return e.registrations.loading},get children(){return u(ur)}}),r(D,{get when(){return e.registrations()},children:V=>{const Z=V();if(Z.kind==="FAILURE")return u(cr);const oe=Z.data.entries.filter(U=>U.uuid===n.uuid).map(U=>U.name);return O(()=>oe.join(", ")||u(gr))}})]}}),re,ie),s(Se,r(Ue,{get fallback(){return u(mr)},get children(){return r(E,{get when(){return e.registrations()},children:V=>{const Z=V();return Z.kind==="FAILURE"?u(mt):Z.data.entries.filter(U=>U.uuid===n.uuid).map(U=>U.name).length>0?u(mt):(()=>{var U=u(hr),ue=U.firstChild,le=ue.firstChild,de=le.firstChild,[j,_e]=d(de.nextSibling);return j.nextSibling,ue.$$click=()=>e.confirmRemoval(n.uuid),s(le,r(H,{icon:"trash"}),j,_e),xt(),U})()}})}})),i})()})),t})()}function Tr(e){const[t,n]=C({slot:{kind:"CHOOSE_DAY"},dialog:ge()});function i(){n("slot",{kind:"CHOOSE_DAY"}),n("dialog","open",!1)}function a(l){e.chooseTimeSlot(l),i()}return[r(N,{kind:"success",get label(){return(()=>{var l=u(fr),o=l.firstChild,[m,g]=d(o.nextSibling);return m.nextSibling,s(l,r(H,{icon:"circle-plus"}),m,g),l})()},onClick:()=>n("dialog","open",!0)}),r(he,{title:"Zeitslot erfassen",get store(){return t.dialog},size:"medium",onClose:i,get children(){return r(se,{get children(){return[r(D,{get when(){return t.slot.kind==="CHOOSE_DAY"},get children(){var l=u($r);return s(l,r(Ae,{changeDay:o=>n("slot",{kind:"CHOOSE_START",day:o})})),l}}),r(D,{get when(){return t.slot.kind==="CHOOSE_START"},get children(){var l=u(Sr),o=l.firstChild,[m,g]=d(o.nextSibling),h=m.nextSibling,[$,b]=d(h.nextSibling);return s(l,r(Ae,{get chosenDay(){return t.slot.kind==="CHOOSE_START"?t.slot.day:void 0},changeDay:S=>n("slot",{kind:"CHOOSE_START",day:S})}),m,g),s(l,r(qe,{get startTimes(){return O(()=>t.slot.kind==="CHOOSE_START")()?ze(e.daySections[t.slot.day]):[]},changeStart:S=>n("slot",{kind:"CHOOSE_END",start:S})}),$,b),l}}),r(D,{get when(){return t.slot.kind==="CHOOSE_END"},get children(){var l=u(_r),o=l.firstChild,[m,g]=d(o.nextSibling),h=m.nextSibling,[$,b]=d(h.nextSibling),S=$.nextSibling,[_,f]=d(S.nextSibling);return s(l,r(Ae,{get chosenDay(){return t.slot.kind==="CHOOSE_END"?t.slot.day:void 0},changeDay:p=>n("slot",{kind:"CHOOSE_START",day:p})}),m,g),s(l,r(qe,{get chosenStart(){return t.slot.kind==="CHOOSE_END"?t.slot.start:void 0},get startTimes(){return O(()=>t.slot.kind==="CHOOSE_END")()?ze(e.daySections[t.slot.day]):[]},changeStart:p=>n("slot",{kind:"CHOOSE_END",start:p})}),$,b),s(l,r($t,{get endTimes(){return t.slot.kind==="CHOOSE_END"?e.daySections[t.slot.day][t.slot.start]??[]:[]},changeEnd:p=>{t.slot.kind==="CHOOSE_END"&&n("slot",{kind:"WAIT_FOR_CONFIRMATION",day:t.slot.day,start:t.slot.start,end:p})}}),_,f),l}}),r(D,{get when(){return t.slot.kind==="WAIT_FOR_CONFIRMATION"},get children(){var l=u(br),o=l.firstChild,[m,g]=d(o.nextSibling),h=m.nextSibling,[$,b]=d(h.nextSibling),S=$.nextSibling,[_,f]=d(S.nextSibling),p=_.nextSibling;return s(l,r(Ae,{get chosenDay(){return t.slot.kind==="WAIT_FOR_CONFIRMATION"?t.slot.day:void 0},changeDay:k=>n("slot",{kind:"CHOOSE_START",day:k})}),m,g),s(l,r(qe,{get chosenStart(){return t.slot.kind==="WAIT_FOR_CONFIRMATION"?t.slot.start:void 0},get startTimes(){return O(()=>t.slot.kind==="WAIT_FOR_CONFIRMATION")()?ze(e.daySections[t.slot.day]):[]},changeStart:k=>n("slot",{kind:"CHOOSE_END",start:k})}),$,b),s(l,r($t,{get chosenEnd(){return t.slot.kind==="WAIT_FOR_CONFIRMATION"?t.slot.end:void 0},get endTimes(){return t.slot.kind==="WAIT_FOR_CONFIRMATION"?e.daySections[t.slot.day][t.slot.start]??[]:[]},changeEnd:k=>{t.slot.kind==="WAIT_FOR_CONFIRMATION"&&n("slot",{kind:"WAIT_FOR_CONFIRMATION",day:t.slot.day,start:t.slot.start,end:k})}}),_,f),s(p,r(N,{get label(){return`Slot "${t.slot.kind==="WAIT_FOR_CONFIRMATION"?`${v.days[t.slot.day]}, von ${t.slot.start} bis ${t.slot.end} Uhr`:""}" erstellen`},kind:"success",onClick:()=>{t.slot.kind==="WAIT_FOR_CONFIRMATION"&&a({uuid:crypto.randomUUID(),day:t.slot.day,from:t.slot.start,to:t.slot.end})}})),l}})]}})}})]}function Ae(e){return[u(vr),(()=>{var t=u(pr),n=t.firstChild,[i,a]=d(n.nextSibling),l=i.nextSibling,[o,m]=d(l.nextSibling);return s(t,r(N,{get kind(){return e.chosenDay==="SATURDAY"?"success":"gray"},label:"Samstag",onClick:()=>e.changeDay("SATURDAY")}),i,a),s(t,r(N,{get kind(){return e.chosenDay==="SUNDAY"?"success":"gray"},label:"Sonntag",onClick:()=>e.changeDay("SUNDAY")}),o,m),t})()]}function qe(e){return[u(kr),(()=>{var t=u(Ot);return s(t,r(G,{get each(){return e.startTimes},children:n=>r(N,{get kind(){return e.chosenStart===n?"success":"gray"},get label(){return(()=>{var i=u(It),a=i.firstChild,[l,o]=d(a.nextSibling);return l.nextSibling,s(i,n,l,o),i})()},onClick:()=>e.changeStart(n)})})),t})()]}function $t(e){return[u(yr),(()=>{var t=u(Ot);return s(t,r(G,{get each(){return e.endTimes},children:n=>r(N,{get kind(){return e.chosenEnd===n?"success":"gray"},get label(){return(()=>{var i=u(It),a=i.firstChild,[l,o]=d(a.nextSibling);return l.nextSibling,s(i,n,l,o),i})()},onClick:()=>e.changeEnd(n)})})),t})()]}function Ar(e){return e.toSorted((t,n)=>t.day!==n.day?t.day==="SATURDAY"?-1:1:t.from-n.from)}yt(["click"]);function Rr(e){const t=new Date;return async()=>new Promise(n=>{setTimeout(()=>(console.error("NOT YET IMPLEMENTED: `publishGameround`",e,t),n()),500)})}function Dr(e,t){const n=new Date;return async()=>new Promise(i=>{setTimeout(()=>(console.error("NOT YET IMPLEMENTED: `sendGameroundUpdate`",e,t.join(", "),n),i()),500)})}var ke=c("<br>"),Ur=c("<div class=content><p>MÃ¶chtest du diese Spielrunde gerne verÃ¶ffentlichen?</p><!$><!/>"),Or=c("<em>Informationen zu den Anmeldungen mÃ¼ssen geladen werden..."),Ir=c("<em>Du kannst kein Update versenden, da sich noch niemand fÃ¼r diese Spielrunde angemeldet hat."),Mr=c("<p>An: <!$><!/>"),Pr=c("<em>Du kannst die Spielrunde nur lÃ¶schen, wenn du zuerst alle Zeitslots entfernt hast."),Nr=c("<div class=content><p>Bist du sicher, dass du die Spielrunde lÃ¶schen mÃ¶chtest?</p><!$><!/>"),Lr=c('<form novalidate><!$><!/><!$><!/><!$><!/><div style="display:grid;grid-template-columns:repeat(2, 1fr);gap:1rem;"><!$><!/><!$><!/></div><!$><!/><!$><!/><!$><!/><fieldset><legend>Kategorien (optional)</legend><!$><!/></fieldset><!$><!/><div style=display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between;><!$><!/><div style=display:flex;flex-wrap:wrap;gap:1rem;><!$><!/><!$><!/><!$><!/>'),Fr=c("<h4>Spielrunde inkomplett"),Hr=c("<p>Du hast noch einen oder mehre Fehler/fehlende Informationen in dieser Spielrunde:"),Gr=c("<li>Â«TitelÂ» ist ein Pflichtfeld."),Br=c("<li>Â«kurz BeschreibungÂ» ist ein Pflichtfeld."),zr=c("<li>Â«kurz BeschreibungÂ» ist zu lang."),Yr=c("<li>Â«lange BeschreibungÂ» ist zu lang."),Wr=c("<li>Mindest einen Zeitslot muss ausgewÃ¤hlt werden."),Zr=c("<ul><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/>"),jr=c("<p><strong>ErklÃ¤rung:</strong> Hast du eine wichtige Ãnderung an dieser Spielrunde durchgefÃ¼hrt, wÃ¤hrend bereits Spielende angemeldet waren? Lass hiermit die Angemeldeten wissen, was du geÃ¤ndert hast. Wichtige Ãnderungen kÃ¶nnen sein: System geÃ¤ndert, Kategorien geÃ¤ndert. FÃ¼r kleine Ãnderungen, wie z.B. Rechtschreibfehler, sollte dies nicht genutzt werden."),qr=c("<p><em>Halte dich kurz und am besten Stichwortartig."),Kr=c("<form><!$><!/><!$><!/>"),Jr=c("<div style=display:grid;gap:0.5rem;margin-block-end:1rem;>");function Vr(e){const t=e.allRounds.find(n=>n.uuid===e.uuid);return r(E,{get fallback(){return e.fallback},when:t,children:n=>e.children(n())})}function Qr(e){const[t,n]=C(e.store),[i,a]=C({delete:ge(),publish:ge(),sendUpdate:ge()});function l(m){m.preventDefault(),a("publish","open",!0)}function o(){e.changePage({kind:"GAMEMASTER"})}return[r(Ct,{kind:"special",get children(){return["Status: ",O(()=>v.publishingSteps[t.kind])]}}),u(ke),u(ke),r(ni,{store:t,get registrations(){return e.registrations},onSubmit:l,onCancel:()=>a("delete","open",!0),onSendUpdate:()=>a("sendUpdate","open",!0),goBack:o}),r(Xr,{get store(){return i.publish},get title(){return t.title.value},onPublish:()=>{n("kind","PUBLISHED"),a("publish","open",!1),e.queue.enqueue(Rr(t.uuid))}}),r(ei,{get store(){return i.sendUpdate},get players(){return li(e.registrations,t.slots.map(m=>m.uuid))},onSend:m=>{e.queue.enqueue(Dr(m,t.slots.map(g=>g.uuid)))}}),r(ti,{get store(){return i.delete},get hasSlots(){return t.slots.length!==0},get title(){return t.title.value},onDelete:()=>{n("kind","DELETED"),e.changePage({kind:"GAMEMASTER"})}})]}function Xr(e){return r(he,{get store(){return e.store},title:"Spielrunde verÃ¶ffentlichen",onClose:()=>{},get children(){var t=u(Ur),n=t.firstChild,i=n.nextSibling,[a,l]=d(i.nextSibling);return s(t,r(I,{kind:"success",icon:"circle-plus",get label(){return`Ja, bitte "${e.title||"["+v.missingTitle+"]"}" verÃ¶ffentlichen.`},get onClick(){return e.onPublish}}),a,l),t}})}function ei(e){return r(he,{get store(){return e.store},title:"Update senden",onClose:()=>{},size:"medium",get children(){return()=>e.players.kind==="LOADING"?u(Or):e.players.kind==="ERROR"?O(()=>v.error.general):e.players.data.length===0?u(Ir):[(()=>{var t=u(Mr),n=t.firstChild,i=n.nextSibling,[a,l]=d(i.nextSibling);return s(t,()=>e.players.data.map(o=>o.name).join(", "),a,l),t})(),u(ke),r(ri,{get onSend(){return e.onSend}})]}})}function ti(e){return r(he,{get store(){return e.store},title:"Spielrunde lÃ¶schen",onClose:()=>{},get children(){return[r(E,{get when(){return e.hasSlots},get children(){return u(Pr)}}),r(E,{get when(){return!e.hasSlots},get children(){var t=u(Nr),n=t.firstChild,i=n.nextSibling,[a,l]=d(i.nextSibling);return s(t,r(I,{kind:"danger",icon:"trash",get label(){return`Ja, bitte "${e.title||"["+v.missingTitle+"]"}" lÃ¶schen.`},get onClick(){return e.onDelete}}),a,l),t}})]}})}function ni(e){const[t]=C(e.store),n=Me(()=>Bn(t));return(()=>{var i=u(Lr),a=i.firstChild,[l,o]=d(a.nextSibling),m=l.nextSibling,[g,h]=d(m.nextSibling),$=g.nextSibling,[b,S]=d($.nextSibling),_=b.nextSibling,f=_.firstChild,[p,k]=d(f.nextSibling),w=p.nextSibling,[R,M]=d(w.nextSibling),P=_.nextSibling,[L,B]=d(P.nextSibling),F=L.nextSibling,[z,Y]=d(F.nextSibling),J=z.nextSibling,[K,ne]=d(J.nextSibling),W=K.nextSibling,re=W.firstChild,ie=re.nextSibling,[$e,Se]=d(ie.nextSibling),V=W.nextSibling,[Z,oe]=d(V.nextSibling),U=Z.nextSibling,ue=U.firstChild,[le,de]=d(ue.nextSibling),j=le.nextSibling,_e=j.firstChild,[Ee,Ne]=d(_e.nextSibling),Le=Ee.nextSibling,[Ce,Fe]=d(Le.nextSibling),He=Ce.nextSibling,[Ge,T]=d(He.nextSibling);return s(i,r(E,{get when(){return t.kind==="PUBLISHED"},get children(){return r(St,{get errors(){return n()}})}}),l,o),s(i,r(pe,{get store(){return t.title},label:"Titel",name:"title",get showErrors(){return t.kind==="PUBLISHED"?"ALWAYS":"ON_BLUR"},get errors(){return n().titleMissing?[v.mandatoryField]:[]}}),g,h),s(i,r(pe,{get store(){return t.system},label:"System (optional)",name:"System"}),b,S),s(_,r(at,{get store(){return t.playerCount.min},label:"Anzahl Mitspielende (Minimum)",name:"playerCountMin",min:1,get max(){return t.playerCount.max.value}}),p,k),s(_,r(at,{get store(){return t.playerCount.max},label:"Anzahl Mitspielende (Maximum)",name:"playerCountMax",get min(){return t.playerCount.min.value}}),R,M),s(i,r(Ve,{get store(){return t.description.short},label:"kurze Beschreibung",name:"descriptionShort",size:"small",get showErrors(){return t.kind==="PUBLISHED"?"ALWAYS":"ON_BLUR"},get errors(){return O(()=>!!n().descriptionShortMissing)()?[v.mandatoryField]:O(()=>!!n().descriptionShortTooLong)()?[v.charLimitBy.replace("{}",String(nt))]:[]}}),L,B),s(i,r(Ve,{get store(){return t.description.long},label:"lange Beschreibung (optional)",name:"descriptionLong",get showErrors(){return t.kind==="PUBLISHED"?"ALWAYS":"ON_BLUR"},get errors(){return O(()=>!!n().descriptionLongTooLong)()?[v.charLimitBy.replace("{}",String(Dt))]:[]}}),z,Y),s(i,r(xr,{get store(){return e.store.slots},get registrations(){return e.registrations},get slotMissing(){return n().slotMissing}}),K,ne),s(W,r(ii,{get store(){return t.tagNames}}),$e,Se),s(i,r(St,{get errors(){return n()}}),Z,oe),s(U,r(I,{icon:"backward",label:"ZurÃ¼ck zu deinen Spielrunden",get onClick(){return e.goBack}}),le,de),s(j,r(E,{get when(){return t.kind!=="DELETED"},get children(){return r(I,{icon:"trash",kind:"danger",label:"LÃ¶schen",onClick:()=>e.onCancel()})}}),Ee,Ne),s(j,r(E,{get when(){return t.kind==="DRAFT"},get children(){return r(I,{icon:"circle-plus",get kind(){return n().hasErrors?"gray":"success"},get disabled(){return n().hasErrors},label:"Spielrunde verÃ¶ffentlichen",get onClick(){return n().hasErrors?void 0:e.onSubmit}})}}),Ce,Fe),s(j,r(E,{get when(){return t.kind==="PUBLISHED"},get children(){return r(I,{icon:"circle-plus",kind:"success",label:"Update an Spielende schicken",get onClick(){return e.onSendUpdate}})}}),Ge,T),i})()}function St(e){return r(E,{get when(){return e.errors.hasErrors},get children(){return r(A,{type:"danger",get children(){return[u(Fr),u(Hr),(()=>{var t=u(Zr),n=t.firstChild,[i,a]=d(n.nextSibling),l=i.nextSibling,[o,m]=d(l.nextSibling),g=o.nextSibling,[h,$]=d(g.nextSibling),b=h.nextSibling,[S,_]=d(b.nextSibling),f=S.nextSibling,[p,k]=d(f.nextSibling);return s(t,r(E,{get when(){return e.errors.titleMissing},get children(){return u(Gr)}}),i,a),s(t,r(E,{get when(){return e.errors.descriptionShortMissing},get children(){return u(Br)}}),o,m),s(t,r(E,{get when(){return e.errors.descriptionShortTooLong},get children(){return u(zr)}}),h,$),s(t,r(E,{get when(){return e.errors.descriptionLongTooLong},get children(){return u(Yr)}}),S,_),s(t,r(E,{get when(){return e.errors.slotMissing},get children(){return u(Wr)}}),p,k),t})()]}})}})}function ri(e){const[t,n]=C({updateText:{value:"",isDirty:!1},hasBeenSent:!1}),i=Me(()=>zn(t));return r(se,{get fallback(){return r(A,{type:"success",children:"Nachricht wurde registriert und wird in den nÃ¤chsten 24 Stunden an die Spielenden verschickt."})},get children(){return r(D,{get when(){return!t.hasBeenSent},get children(){return[u(jr),u(ke),u(qr),u(ke),(()=>{var a=u(Kr),l=a.firstChild,[o,m]=d(l.nextSibling),g=o.nextSibling,[h,$]=d(g.nextSibling);return nn(a,"novalidate",!0),s(a,r(Ve,{get store(){return t.updateText},label:"Zusammenfassung der Ãnderung",name:"updateText",size:"small",showErrors:"ALWAYS",get errors(){return O(()=>!!i().missing)()?[v.mandatoryField]:O(()=>!!i().tooLong)()?[v.charLimitBy.replace("{}",String(Ut))]:[]}}),o,m),s(a,r(I,{icon:"paper-plane",label:"Spielende informieren",get kind(){return i().hasErrors?"gray":"success"},get disabled(){return i().hasErrors},get onClick(){return i().hasErrors?void 0:()=>{e.onSend(t.updateText.value),n("hasBeenSent",!0)}}}),h,$),a})()]}})}})}function ii(e){const[t,n]=C(e.store);return[(()=>{var i=u(Jr);return s(i,r(G,{each:Rt,children:a=>r(on,{get label(){return a.label},get description(){return a.description},get checked(){return t.includes(a.name)},get name(){return a.name},get value(){return a.name},onValueUpdate:l=>{n(l?t.concat([a.name]):t.filter(o=>o!==a.name))}})})),i})(),r(A,{get children(){return v.tagIdeas}})]}const li=(e,t)=>{if(e.loading)return{kind:"LOADING"};if(e.error)return{kind:"ERROR"};const n=e();return n===void 0||n.kind==="FAILURE"?{kind:"ERROR"}:{kind:"SUCCESS",data:n.data.entries.filter(i=>t.includes(i.uuid))}},ai=un("kind",[x({kind:Q("CHOOSE")}),x({kind:Q("PLAYER")}),x({kind:Q("GAMEMASTER")}),x({kind:Q("HELPING")}),x({kind:Q("SUMMARY")}),x({kind:Q("EDIT_GAMEROUND"),uuid:y().uuid()})]),si=Pe(["SAVING","IDLE","ERROR"]),oi=x({saveState:si,page:ai,secret:y(),showCreateMessage:me(),isDebugging:me()});function Mt(e){const t=e.searchParams.get("page")??"",n=e.searchParams.get("uuid")??void 0,i=e.searchParams.get("secret")??"",a=e.searchParams.get("showCreateMessage")==="true",l=e.searchParams.get("debug")==="true",o=oi.safeParse({saveState:"IDLE",page:{kind:t.toUpperCase(),uuid:n},secret:i,showCreateMessage:a,isDebugging:l});return o.success?o.data:{saveState:"IDLE",page:{kind:"CHOOSE"},secret:i,showCreateMessage:a,isDebugging:l}}function ui(e,t){return e.kind!==t.kind?!1:e.kind!=="EDIT_GAMEROUND"||t.kind!=="EDIT_GAMEROUND"?!0:e.uuid===t.uuid}const di="2024-08-15T07:45:21.335Z",Ie={game:"37831e19-29d6-40bd-b99d-fb91b78aa7f9",slot:"bfcbd156-b703-4664-9944-8936aede8476"};function ci(e,t){const n=localStorage.getItem(e);return n===null?t:n}function gi(e,t){localStorage.setItem(e,t)}const Pt="SAVE",mi={version:1,init:{name:"John Doe",email:"john@doe.ch",mobile:"+41 66 123 45 67"},lastSaved:di,playing:{wantsUpdates:!1},master:{games:[{uuid:Ie.game,kind:"PUBLISHED",title:"Grolle in der Dunkelheit",system:"Warhammer Fantasy Rollenspiel",description:{short:"Ein kurzes Abenteuer bei dem es um Fantasy, Action und einfaches Rollenspiel geht.",long:"Eine kleine Gruppe wagt sich in die dunklen SchÃ¤chten einer Mine und weiter hinab, um einen mÃ¤chtigen Gegenstand wieder zu erlangen. Wie werden die GefÃ¤hrten auf die Gefahren des Untergrundes reagieren und welche Gefahren lauern in der Finsternis?"},slots:[{uuid:Ie.slot,day:"SATURDAY",from:10,to:12},{uuid:crypto.randomUUID(),day:"SUNDAY",from:14,to:17}],playerCount:{min:1,max:3},tagNames:["deutsch"]}],wantsHelp:!1},helping:{}};async function hi(){return new Promise(e=>setTimeout(()=>e({kind:"SUCCESS",data:JSON.parse(ci(Pt,JSON.stringify(mi)))}),1e3))}async function $i(e,t){return new Promise(n=>setTimeout(()=>(gi(Pt,JSON.stringify(e)),n({kind:"SUCCESS",data:t})),1e3))}const Si={entries:[{uuid:crypto.randomUUID(),gamemaster:"Mike Hunziker",title:"Grolle in der Dunkelheit",system:"Warhammer Fantasy Rollenspiel",description:{short:"Ein kurzes Abenteuer bei dem es um Fantasy, Action und einfaches Rollenspiel geht.",long:"Eine kleine Gruppe wagt sich in die dunklen SchÃ¤chten einer Mine und weiter hinab, um einen mÃ¤chtigen Gegenstand wieder zu erlangen. Wie werden die GefÃ¤hrten auf die Gefahren des Untergrundes reagieren und welche Gefahren lauern in der Finsternis?"},slots:[],playerCount:{min:1,max:3,reserved:0},tagNames:["children"]}]};async function _i(){return new Promise(e=>setTimeout(()=>e(Si),5e3))}const bi={entries:[{uuid:Ie.slot,name:"Alice"},{uuid:Ie.slot,name:"Bob"}]};async function fi(e){return new Promise(t=>setTimeout(()=>t({entries:bi.entries.filter(n=>e.includes(n.uuid))}),5e3))}var vi=c("<div aria-atomic=true><!$><!/><!$><!/>"),pi=c("<div class=toast-container aria-live=polite aria-atomic=true>");const[te,ye]=C([]);function ki(e){const t=()=>{const n=["toast"];return e.options.kind!==void 0&&n.push(`toast-${e.options.kind}`),n.join(" ")};return(()=>{var n=u(vi),i=n.firstChild,[a,l]=d(i.nextSibling),o=a.nextSibling,[m,g]=d(o.nextSibling);return s(n,()=>e.options.message,a,l),s(n,r(E,{get when(){return e.options.dismissable},get children(){return r(N,{kind:"ghost",get label(){return r(H,{icon:"xmark",classes:["toast-dismiss"]})},get onClick(){return e.dismiss}})}}),m,g),X(h=>{var $=t(),b=e.options.kind==="danger"?"alert":"status",S=e.options.kind==="danger"?"assertive":"polite";return $!==h.e&&xe(n,h.e=$),b!==h.t&&De(n,"role",h.t=b),S!==h.a&&De(n,"aria-live",h.a=S),h},{e:void 0,t:void 0,a:void 0}),n})()}function yi(){function e(t){te.find(n=>n.uuid===t)?.cleanup(),ye(te.filter(n=>n.uuid!==t))}return(()=>{var t=u(pi);return s(t,r(G,{each:te,children:n=>r(ki,{options:n,dismiss:()=>e(n.uuid)})})),t})()}function xi(e,t){if(t?.uuid!==void 0&&te.find(m=>m.uuid===t.uuid)!==void 0)return Xe(t.uuid,e,t);const n=t?.uuid??crypto.randomUUID(),i=t?.duration??5e3,a=t?.kind??"gray",l=t?.dismissable,o=setTimeout(()=>{ye(te.filter(m=>m.uuid!==n))},i);return ye(te.length,{uuid:n,kind:a,message:e,duration:i,dismissable:l,cleanup:()=>clearTimeout(o)}),n}function Xe(e,t,n){const i=te.find(g=>g.uuid===e);if(i===void 0)return e;i.cleanup();const a=n.duration??i.duration,l=n.kind??i.kind,o=n?.dismissable??i.dismissable,m=setTimeout(()=>{ye(te.filter(g=>g.uuid!==e))},a);return ye(g=>g.uuid===e,{uuid:e,kind:l,message:t,duration:a,dismissable:o,cleanup:()=>clearTimeout(m)}),e}const Ei={version:1,init:{name:"",email:"",mobile:""},lastSaved:new Date().toISOString(),playing:{wantsUpdates:!0},master:{games:[],wantsHelp:!1},helping:{}};async function Ci(e){const t=new URL(pt("/rst25/load"));t.searchParams.append("secret",e);const n=await fetch(t);if(!n.ok)return{kind:"FAILURE"};const i=await n.json();return typeof i=="object"&&i!==null?{kind:"SUCCESS",data:Object.assign(Ei,i)}:(console.error("`last_save` not found on ",i),{kind:"FAILURE"})}async function wi(e,t){try{const n=await fetch(pt("/rst25/save"),{method:"post",body:JSON.stringify({secret:t,save:e}),headers:{"Content-Type":"application/json"}});return n.ok?{kind:"SUCCESS",data:t}:(console.error(await n.text()),{kind:"FAILURE"})}catch(n){return console.error(n),{kind:"FAILURE"}}}const Ti=x({name:y(),email:y(),mobile:y()}),Ai=x({name:y(),email:y(),mobile:y()}),Ri=x({wantsUpdates:me()}),Di=x({wantsUpdates:me()}),Ui=x({games:q(Ln),wantsHelp:me()}),Oi=x({games:q(At),wantsHelp:me()}),Ii=x({}),Mi=x({}),Pi=x({version:Q(1),init:Ti,lastSaved:y(),playing:Ri,master:Ui,helping:Ii}),Ni=x({version:Q(1),init:Ai,lastSaved:dn.date(),playing:Di,master:Oi,helping:Mi});async function Li(e){const t=e==="demo"?await hi():await Ci(e);if(t.kind==="FAILURE")return console.error("Unexpected error. Maybe network, maybe server error."),{kind:"FAILURE"};const n=Pi.safeParse(t.data);if(!n.success)return console.error(n.error),{kind:"FAILURE"};const i=Fi(n.data);return i.success?{kind:"SUCCESS",data:i.data}:{kind:"FAILURE"}}function Fi(e){return Ni.safeParse(e)}const Ke=crypto.randomUUID();async function Hi(e,t,n){const[i,a]=C(e);a("saveState","SAVING"),xi("Am Speichern...",{uuid:Ke,dismissable:!1});const l=new Date;t.lastSaved=l;const o=Gi(t);try{if((n==="demo"?await $i(o,n):await wi(o,n)).kind==="FAILURE")throw Error("")}catch(m){return a("saveState","ERROR"),console.error(m),Xe(Ke,"Speichern war nicht mÃ¶glich!",{kind:"danger",duration:1e4,dismissable:!0}),{kind:"FAILURE"}}return Xe(Ke,`Zuletzt gespeichert um: ${kt(l)} Uhr`,{kind:"success",dismissable:!0}),a("saveState","IDLE"),{kind:"SUCCESS",data:l}}function Gi(e){return{...e,lastSaved:String(e.lastSaved),master:{...e.master,games:e.master.games.map(Gn)}}}const Bi=Vt(Hi,1e3);var zi=c("<div class=tooltip-wrapper><div class=tooltip></div><!$><!/>");function fe(e){return(()=>{var t=u(zi),n=t.firstChild,i=n.nextSibling,[a,l]=d(i.nextSibling);return s(n,()=>e.tooltip),s(t,()=>e.children,a,l),t})()}var Yi=c("<div class=quickmenu-wrapper><div class=quickmenu><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/>"),Wi=c('<div class="quickmenu extended"><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/>'),Zi=c("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center;><!$><!/><em>Zuletzt gespeichert um: <!$><!/> Uhr"),ji=c("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center;><!$><!/><em>Am Speichern..."),qi=c("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center;><!$><!/><em>Speichern war nicht mÃ¶glich!");function Ki(e){return(()=>{var t=u(Yi),n=t.firstChild,i=n.firstChild,[a,l]=d(i.nextSibling),o=a.nextSibling,[m,g]=d(o.nextSibling),h=m.nextSibling,[$,b]=d(h.nextSibling),S=$.nextSibling,[_,f]=d(S.nextSibling),p=_.nextSibling,[k,w]=d(p.nextSibling);return s(n,r(fe,{tooltip:"Zur Ãbersicht",get children(){return r(N,{get label(){return r(H,{icon:"backward"})},onClick:()=>e.changePage({kind:"CHOOSE"})})}}),a,l),s(n,r(fe,{tooltip:"Zu den Spielrunden",get children(){return r(N,{get label(){return r(H,{icon:"dice-d20"})},onClick:()=>e.changePage({kind:"PLAYER"})})}}),m,g),s(n,r(fe,{tooltip:"Zu deinen Spielrunden",get children(){return r(N,{get label(){return r(H,{icon:"grid-2-plus"})},onClick:()=>e.changePage({kind:"GAMEMASTER"})})}}),$,b),s(n,r(fe,{tooltip:"Zum Helferplan",get children(){return r(N,{get label(){return r(H,{icon:"hand-heart"})},onClick:()=>e.changePage({kind:"HELPING"})})}}),_,f),s(n,r(fe,{tooltip:"Zur Zusammenfassung",get children(){return r(N,{get label(){return r(H,{icon:"list"})},onClick:()=>e.changePage({kind:"SUMMARY"})})}}),k,w),t})()}function Ji(e){return[r(A,{type:"gray",get children(){var t=u(Wi),n=t.firstChild,[i,a]=d(n.nextSibling),l=i.nextSibling,[o,m]=d(l.nextSibling),g=o.nextSibling,[h,$]=d(g.nextSibling),b=h.nextSibling,[S,_]=d(b.nextSibling),f=S.nextSibling,[p,k]=d(f.nextSibling);return s(t,r(I,{icon:"backward",label:"Zur Ãbersicht",onClick:()=>e.changePage({kind:"CHOOSE"})}),i,a),s(t,r(I,{icon:"dice-d20",label:"Zu den Spielrunden",onClick:()=>e.changePage({kind:"PLAYER"})}),o,m),s(t,r(I,{icon:"grid-2-plus",label:"Zu deinen Spielrunden",onClick:()=>e.changePage({kind:"GAMEMASTER"})}),h,$),s(t,r(I,{icon:"hand-heart",label:"Zum Helferplan",onClick:()=>e.changePage({kind:"HELPING"})}),S,_),s(t,r(I,{icon:"list",label:"Zur Zusammenfassung",onClick:()=>e.changePage({kind:"SUMMARY"})}),p,k),t}}),r(Vi,{get saveState(){return e.saveState},get lastSaved(){return e.lastSaved}})]}function Vi(e){return r(se,{get children(){return[r(D,{get when(){return e.saveState==="IDLE"},get children(){var t=u(Zi),n=t.firstChild,[i,a]=d(n.nextSibling),l=i.nextSibling,o=l.firstChild,m=o.nextSibling,[g,h]=d(m.nextSibling);return g.nextSibling,s(t,r(H,{icon:"circle-check"}),i,a),s(l,()=>kt(e.lastSaved),g,h),t}}),r(D,{get when(){return e.saveState==="SAVING"},get children(){var t=u(ji),n=t.firstChild,[i,a]=d(n.nextSibling);return i.nextSibling,s(t,r(H,{icon:"floppy-disk-circle-arrow-right"}),i,a),t}}),r(D,{get when(){return e.saveState==="ERROR"},get children(){var t=u(qi),n=t.firstChild,[i,a]=d(n.nextSibling);return i.nextSibling,s(t,r(H,{icon:"triangle-exclamation"}),i,a),t}})]}})}var Qi=c("<div class=page><!$><!/><div class=page-content><h2></h2><br><!$><!/></div><!$><!/>"),Xi=c("<div class=extended-wrapper style=margin-block-start:1rem;>");function ce(e){return(()=>{var t=u(Qi),n=t.firstChild,[i,a]=d(n.nextSibling),l=i.nextSibling,o=l.firstChild,m=o.nextSibling,g=m.nextSibling,[h,$]=d(g.nextSibling),b=l.nextSibling,[S,_]=d(b.nextSibling);return s(t,(()=>{var f=O(()=>e.showQuickmenu!==!1);return()=>f()?r(Ki,{get changePage(){return e.changePage},get saveState(){return e.saveState},get lastSaved(){return e.lastSaved}}):null})(),i,a),s(o,()=>e.title),s(l,()=>e.children,h,$),s(t,(()=>{var f=O(()=>e.showQuickmenu!==!1);return()=>f()?(()=>{var p=u(Xi);return s(p,r(Ji,{get changePage(){return e.changePage},get saveState(){return e.saveState},get lastSaved(){return e.lastSaved}})),p})():null})(),S,_),t})()}const el=x({uuid:y().uuid(),name:y()}),Nt=x({entries:q(el)}),tl=Nt;async function nl(e,t){console.log("loadRegistration still mocked",e.substring(0,4),"...");const n=await fi(t),i=Nt.safeParse(n);if(!i.success)return{kind:"FAILURE"};const a=rl(i.data);return a.success?{kind:"SUCCESS",data:a.data}:{kind:"FAILURE"}}function rl(e){return tl.safeParse(e)}const il=x({uuid:y().uuid(),gamemaster:y(),title:y(),system:y(),description:x({short:y(),long:y()}),slots:q(tt),playerCount:x({min:ee().min(1),max:ee(),reserved:ee()}).transform(e=>{const[t,n]=vt([e.min,e.max]),i=Math.min(n,e.reserved);return{min:t,max:n,reserved:i}}),tagNames:q(y())}),Lt=x({entries:q(il)}),ll=Lt;async function al(e){console.log("loadProgram still mocked",e.substring(0,4),"...");const t=await _i(),n=Lt.safeParse(t);if(!n.success)return{kind:"FAILURE"};const i=sl(n.data);return i.success?{kind:"SUCCESS",data:i.data}:{kind:"FAILURE"}}function sl(e){return ll.safeParse(e)}var ol=c("<br>"),Je=c("<pre>"),_t=c("<hr>"),ul=c("<div><code>Registrations (read-only)"),dl=c("<div><code>Program (read-only)"),bt=c("<em>loading...");function cl(e){const t=new URL(location.href);t.searchParams.set("page",e.page.kind.toLowerCase()),e.page.kind==="EDIT_GAMEROUND"&&t.searchParams.set("uuid",e.page.uuid),t.searchParams.delete("showCreateMessage"),history.replaceState({page:e},"",t);const n=v.pageTitle[e.page.kind];document.title=v.metaTitle.replace("{}",n)}function gl(e){const[t,n]=C(e.page);return(i,a)=>{if(ui(i,t))return;if(!a){const o=new URL(location.href);o.searchParams.set("page",i.kind.toLowerCase()),i.kind==="EDIT_GAMEROUND"?o.searchParams.set("uuid",i.uuid):o.searchParams.delete("uuid"),history.pushState({page:i},"",o)}const l=v.pageTitle[i.kind];document.title=v.metaTitle.replace("{}",l),n(i),window.scrollTo({top:0})}}function ml(e){cl(e.meta);const[t,n]=C({meta:e.meta,save:e.save}),i=()=>t.save.master.games.flatMap(g=>g.slots.map(h=>h.uuid)),[a]=Re(i(),g=>nl(t.meta.secret,g)),[l]=Re(()=>al(t.meta.secret));Re(()=>JSON.stringify(t.save),async()=>{const g=an(t.save);try{const h=await Bi(t.meta,g,t.meta.secret);h.kind==="FAILURE"?console.error(h):n("save","lastSaved",h.data)}catch(h){console.error(h),n("meta","saveState","ERROR")}});const o=gl(t.meta),m=Qt();return Et(()=>{window.addEventListener("popstate",g=>{if(typeof g=="object"&&g!==null&&"state"in g){const h=new URL(location.href),$=Mt(h);o($.page,!0)}}),setInterval(async()=>{const g=m.dequeue();g.kind==="NEXT_ELEMENT"&&await g.data()},1e3)}),[r(E,{get when(){return t.meta.showCreateMessage},get children(){return[r(A,{type:"success",get children(){return v.registrationStarted}}),u(ol)]}}),r(se,{get fallback(){return r(ce,{title:"Wo mÃ¶chtest du starten?",showQuickmenu:!1,changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved},get children(){return r(lr,{changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved}})}})},get children(){return[r(D,{get when(){return t.meta.page.kind==="PLAYER"},get children(){return r(ce,{title:"SpielrundenÃ¼bersicht",changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved},get children(){return r(Jn,{})}})}}),r(D,{get when(){return t.meta.page.kind==="GAMEMASTER"},get children(){return r(ce,{title:"Meine Spielrunden",changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved},get children(){return r(qn,{get store(){return t.save.master},changePage:o})}})}}),r(D,{get when(){return t.meta.page.kind==="EDIT_GAMEROUND"},get children(){return r(ce,{title:"Spielrunde editieren",changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved},get children(){return r(Vr,{get allRounds(){return t.save.master.games},get uuid(){return t.meta.page.kind==="EDIT_GAMEROUND"?t.meta.page.uuid:"should never happen"},get fallback(){return r(A,{type:"danger",get children(){return v.error.gameroundUuidError}})},children:g=>r(Qr,{store:g,registrations:a,queue:m,changePage:o})})}})}}),r(D,{get when(){return t.meta.page.kind==="HELPING"},get children(){return r(ce,{title:"Helfen",changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved},get children(){return r(In,{})}})}}),r(D,{get when(){return t.meta.page.kind==="SUMMARY"},get children(){return r(ce,{title:"Zusammenfassung",changePage:o,get saveState(){return t.meta.saveState},get lastSaved(){return t.save.lastSaved},get children(){return r(Tn,{get store(){return t.save},changePage:o})}})}})]}}),r(E,{get when(){return t.meta.isDebugging},get children(){return[(()=>{var g=u(Je);return s(g,()=>JSON.stringify(t,null,2)),g})(),u(_t),u(ul),r(Ue,{get fallback(){return u(bt)},get children(){return r(E,{get when(){return a()},children:g=>(()=>{var h=u(Je);return s(h,()=>JSON.stringify(g(),null,2)),h})()})}}),u(_t),u(dl),r(Ue,{get fallback(){return u(bt)},get children(){return r(E,{get when(){return l()},children:g=>(()=>{var h=u(Je);return s(h,()=>JSON.stringify(g(),null,2)),h})()})}})]}}),r(yi,{})]}function Ft(){return r(A,{get children(){return v.loading}})}function pl(){const[e,t]=rn(null);return Et(()=>{const n=new URL(location.href);t(Mt(n))}),r(E,{get fallback(){return r(Ft,{})},get when(){return e()},children:n=>r(hl,{get page(){return n()}})})}function hl(e){const[t]=Re(()=>Li(e.page.secret));return r(ln,{fallback:n=>(console.error(n),r(A,{type:"danger",get children(){return v.error.general}})),get children(){return r(Ue,{get fallback(){return r(Ft,{})},get children(){return r(se,{get children(){return r(D,{get when(){return t()},children:n=>{const{kind:i,value:a}=Xt(n());return i==="SECRET_INVALID"?r(A,{type:"danger",get children(){return v.error.secretError}}):i==="FAILURE"?r(A,{type:"danger",get children(){return v.error.ourMistake}}):r(ml,{get meta(){return e.page},get save(){return a.data}})}})}})}})}})}export{pl as MeineAnmeldungWrapper};
